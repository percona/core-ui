import e,{useLayoutEffect as t,useEffect as o,useCallback as r,useRef as a,useState as l}from"react";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var o,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)t.indexOf(o=l[r])>=0||(a[o]=e[o]);return a}const c="undefined"!=typeof window?t:o;function u(e){const t=a(e);return o(()=>{t.current=e}),r(e=>t.current&&t.current(e),[])}const i=(e,t=0,o=1)=>e>o?o:e<t?t:e,d=e=>"touches"in e,f=(e,t)=>{const o=e.getBoundingClientRect(),r=d(t)?t.touches[0]:t;return{left:i((r.pageX-(o.left+window.pageXOffset))/o.width),top:i((r.pageY-(o.top+window.pageYOffset))/o.height)}},h=e.memo(t=>{let{onMove:o,onKey:i}=t,h=s(t,["onMove","onKey"]);const v=a(null),m=a(!1),[g,p]=l(!1),b=u(o),_=u(i),C=r(e=>{e.preventDefault(),(d(e)?e.touches.length>0:e.buttons>0)&&v.current?b(f(v.current,e)):p(!1)},[b]),E=r(({nativeEvent:e})=>{e.preventDefault(),(e=>!(m.current&&!d(e)||(m.current||(m.current=d(e)),0)))(e)&&(b(f(v.current,e)),p(!0))},[b]),x=r(e=>{const t=e.which||e.keyCode;t<37||t>40||(e.preventDefault(),_({left:39===t?.05:37===t?-.05:0,top:40===t?.05:38===t?-.05:0}))},[_]),H=r(()=>p(!1),[]),N=r(e=>{const t=e?window.addEventListener:window.removeEventListener;t(m.current?"touchmove":"mousemove",C),t(m.current?"touchend":"mouseup",H)},[C,H]);return c(()=>(N(g),()=>{g&&N(!1)}),[g,N]),e.createElement("div",n({},h,{className:"react-colorful__interactive",ref:v,onTouchStart:E,onMouseDown:E,onKeyDown:x,tabIndex:0,role:"slider"}))}),v=e=>e.filter(Boolean).join(" "),m=({className:t,color:o,left:r,top:a=.5})=>{const l=v(["react-colorful__pointer",t]);return e.createElement("div",{className:l,style:{top:100*a+"%",left:100*r+"%"}},e.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:o}}))},g=(e,t=0,o=Math.pow(10,t))=>Math.round(o*e)/o,p=e=>("#"===e[0]&&(e=e.substr(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:1}:{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:1}),b=e=>{const t=/hsla?\((\d+\.?\d*),\s*(\d+\.?\d*)%?,\s*(\d+\.?\d*)%?,?\s*(\d+\.?\d*)?\)/.exec(e);return t?C({h:Number(t[1]),s:Number(t[2]),l:Number(t[3]),a:void 0===t[4]?1:Number(t[4])}):{h:0,s:0,v:0,a:1}},_=b,C=({h:e,s:t,l:o,a:r})=>({h:e,s:(t*=(o<50?o:100-o)/100)>0?2*t/(o+t)*100:0,v:o+t,a:r}),E=({h:e,s:t,v:o,a:r})=>{const a=(200-t)*o/100;return{h:g(e),s:g(a>0&&a<200?t*o/100/(a<=100?a:200-a)*100:0),l:g(a/2),a:g(r,2)}},x=e=>{const{h:t,s:o,l:r}=E(e);return`hsl(${t}, ${o}%, ${r}%)`},H=e=>{const{h:t,s:o,l:r,a}=E(e);return`hsla(${t}, ${o}%, ${r}%, ${a})`},N=({h:e,s:t,v:o,a:r})=>{e=e/360*6,t/=100,o/=100;const a=Math.floor(e),l=o*(1-t),n=o*(1-(e-a)*t),s=o*(1-(1-e+a)*t),c=a%6;return{r:g(255*[o,n,l,l,s,o][c]),g:g(255*[s,o,o,n,l,l][c]),b:g(255*[l,l,s,o,o,n][c]),a:g(r,2)}},w=e=>{const t=/hsva?\((\d+\.?\d*),\s*(\d+\.?\d*)%?,\s*(\d+\.?\d*)%?,?\s*(\d+\.?\d*)?\)/.exec(e);return t?O({h:Number(t[1]),s:Number(t[2]),v:Number(t[3]),a:void 0===t[4]?1:Number(t[4])}):{h:0,s:0,v:0,a:1}},M=w,$=e=>{const t=/rgba?\((\d+),\s*(\d+),\s*(\d+),?\s*(\d+\.?\d*)?\)/.exec(e);return t?k({r:Number(t[1]),g:Number(t[2]),b:Number(t[3]),a:void 0===t[4]?1:Number(t[4])}):{h:0,s:0,v:0,a:1}},y=$,q=e=>{const t=e.toString(16);return t.length<2?"0"+t:t},k=({r:e,g:t,b:o,a:r})=>{const a=Math.max(e,t,o),l=a-Math.min(e,t,o),n=l?a===e?(t-o)/l:a===t?2+(o-e)/l:4+(e-t)/l:0;return{h:g(60*(n<0?n+6:n)),s:g(a?l/a*100:0),v:g(a/255*100),a:r}},O=e=>({h:g(e.h),s:g(e.s),v:g(e.v),a:g(e.a,2)}),I=e.memo(({className:t,hue:o,onChange:r})=>{const a=v(["react-colorful__hue",t]);return e.createElement("div",{className:a},e.createElement(h,{onMove:e=>{r({h:360*e.left})},onKey:e=>{r({h:i(o+360*e.left,0,360)})},"aria-label":"Hue","aria-valuetext":g(o)},e.createElement(m,{className:"react-colorful__hue-pointer",left:o/360,color:x({h:o,s:100,v:100,a:1})})))}),j=e.memo(({hsva:t,onChange:o})=>{const r={backgroundColor:x({h:t.h,s:100,v:100,a:1})};return e.createElement("div",{className:"react-colorful__saturation",style:r},e.createElement(h,{onMove:e=>{o({s:100*e.left,v:100-100*e.top})},onKey:e=>{o({s:i(t.s+100*e.left,0,100),v:i(t.v-100*e.top,0,100)})},"aria-label":"Color","aria-valuetext":`Saturation ${g(t.s)}%, Brightness ${g(t.v)}%`},e.createElement(m,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:x(t)})))}),z=(e,t)=>{if(e===t)return!0;for(const o in e)if(e[o]!==t[o])return!1;return!0},B=(e,t)=>e.replace(/\s/g,"")===t.replace(/\s/g,"");function K(e,t,n){const s=u(n),[c,i]=l(()=>e.toHsva(t)),d=a({color:t,hsva:c});o(()=>{if(!e.equal(t,d.current.color)){const o=e.toHsva(t);d.current={hsva:o,color:t},i(o)}},[t,e]),o(()=>{let t;z(c,d.current.hsva)||e.equal(t=e.fromHsva(c),d.current.color)||(d.current={hsva:c,color:t},s(t))},[c,e,s]);const f=r(e=>{i(t=>Object.assign({},t,e))},[]);return[c,f]}let A;const D=()=>A||("undefined"!=typeof __webpack_nonce__?__webpack_nonce__:void 0),L=e=>{A=e};let F;const S=()=>{c(()=>{if("undefined"!=typeof document&&!F){F=document.createElement("style"),F.innerHTML='.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}';const e=D();e&&F.setAttribute("nonce",e),document.head.appendChild(F)}},[])},T=t=>{let{className:o,colorModel:r,color:a=r.defaultColor,onChange:l}=t,c=s(t,["className","colorModel","color","onChange"]);S();const[u,i]=K(r,a,l),d=v(["react-colorful",o]);return e.createElement("div",n({},c,{className:d}),e.createElement(j,{hsva:u,onChange:i}),e.createElement(I,{hue:u.h,onChange:i,className:"react-colorful__last-control"}))},X={defaultColor:"000",toHsva:e=>k(p(e)),fromHsva:e=>(({r:e,g:t,b:o})=>"#"+q(e)+q(t)+q(o))(N(e)),equal:(e,t)=>e.toLowerCase()===t.toLowerCase()||z(p(e),p(t))},Y=t=>e.createElement(T,n({},t,{colorModel:X})),P=({className:t,hsva:o,onChange:r})=>{const a={backgroundImage:`linear-gradient(90deg, ${H(Object.assign({},o,{a:0}))}, ${H(Object.assign({},o,{a:1}))})`},l=v(["react-colorful__alpha",t]);return e.createElement("div",{className:l},e.createElement("div",{className:"react-colorful__alpha-gradient",style:a}),e.createElement(h,{onMove:e=>{r({a:e.left})},onKey:e=>{r({a:i(o.a+e.left)})},"aria-label":"Alpha","aria-valuetext":`${g(100*o.a)}%`},e.createElement(m,{className:"react-colorful__alpha-pointer",left:o.a,color:H(o)})))},R=t=>{let{className:o,colorModel:r,color:a=r.defaultColor,onChange:l}=t,c=s(t,["className","colorModel","color","onChange"]);S();const[u,i]=K(r,a,l),d=v(["react-colorful",o]);return e.createElement("div",n({},c,{className:d}),e.createElement(j,{hsva:u,onChange:i}),e.createElement(I,{hue:u.h,onChange:i}),e.createElement(P,{hsva:u,onChange:i,className:"react-colorful__last-control"}))},G={defaultColor:{h:0,s:0,l:0,a:1},toHsva:C,fromHsva:E,equal:z},J=t=>e.createElement(R,n({},t,{colorModel:G})),Q={defaultColor:"hsla(0, 0%, 0%, 1)",toHsva:b,fromHsva:H,equal:B},U=t=>e.createElement(R,n({},t,{colorModel:Q})),V={defaultColor:{h:0,s:0,l:0},toHsva:({h:e,s:t,l:o})=>C({h:e,s:t,l:o,a:1}),fromHsva:e=>(({h:e,s:t,l:o})=>({h:e,s:t,l:o}))(E(e)),equal:z},W=t=>e.createElement(T,n({},t,{colorModel:V})),Z={defaultColor:"hsl(0, 0%, 0%)",toHsva:_,fromHsva:x,equal:B},ee=t=>e.createElement(T,n({},t,{colorModel:Z})),te={defaultColor:{h:0,s:0,v:0,a:1},toHsva:e=>e,fromHsva:O,equal:z},oe=t=>e.createElement(R,n({},t,{colorModel:te})),re={defaultColor:"hsva(0, 0%, 0%, 1)",toHsva:w,fromHsva:e=>{const{h:t,s:o,v:r,a}=O(e);return`hsva(${t}, ${o}%, ${r}%, ${a})`},equal:B},ae=t=>e.createElement(R,n({},t,{colorModel:re})),le={defaultColor:{h:0,s:0,v:0},toHsva:({h:e,s:t,v:o})=>({h:e,s:t,v:o,a:1}),fromHsva:e=>{const{h:t,s:o,v:r}=O(e);return{h:t,s:o,v:r}},equal:z},ne=t=>e.createElement(T,n({},t,{colorModel:le})),se={defaultColor:"hsv(0, 0%, 0%)",toHsva:M,fromHsva:e=>{const{h:t,s:o,v:r}=O(e);return`hsv(${t}, ${o}%, ${r}%)`},equal:B},ce=t=>e.createElement(T,n({},t,{colorModel:se})),ue={defaultColor:{r:0,g:0,b:0,a:1},toHsva:k,fromHsva:N,equal:z},ie=t=>e.createElement(R,n({},t,{colorModel:ue})),de={defaultColor:"rgba(0, 0, 0, 1)",toHsva:$,fromHsva:e=>{const{r:t,g:o,b:r,a}=N(e);return`rgba(${t}, ${o}, ${r}, ${a})`},equal:B},fe=t=>e.createElement(R,n({},t,{colorModel:de})),he={defaultColor:{r:0,g:0,b:0},toHsva:({r:e,g:t,b:o})=>k({r:e,g:t,b:o,a:1}),fromHsva:e=>(({r:e,g:t,b:o})=>({r:e,g:t,b:o}))(N(e)),equal:z},ve=t=>e.createElement(T,n({},t,{colorModel:he})),me={defaultColor:"rgb(0, 0, 0)",toHsva:y,fromHsva:e=>{const{r:t,g:o,b:r}=N(e);return`rgb(${t}, ${o}, ${r})`},equal:B},ge=t=>e.createElement(T,n({},t,{colorModel:me})),pe=/^#?[0-9A-F]{3}$/i,be=/^#?[0-9A-F]{6}$/i,_e=e=>be.test(e)||pe.test(e),Ce=e=>e.replace(/([^0-9A-F]+)/gi,"").substr(0,6),Ee=t=>{const{color:a="",onChange:c,onBlur:i}=t,d=s(t,["color","onChange","onBlur"]),[f,h]=l(()=>Ce(a)),v=u(c),m=u(i),g=r(e=>{const t=Ce(e.target.value);h(t),_e(t)&&v("#"+t)},[v]),p=r(e=>{_e(e.target.value)||h(Ce(a)),m(e)},[a,m]);return o(()=>{h(Ce(a))},[a]),e.createElement("input",n({},d,{value:f,spellCheck:"false",onChange:g,onBlur:p}))};export{Ee as HexColorInput,Y as HexColorPicker,W as HslColorPicker,ee as HslStringColorPicker,J as HslaColorPicker,U as HslaStringColorPicker,ne as HsvColorPicker,ce as HsvStringColorPicker,oe as HsvaColorPicker,ae as HsvaStringColorPicker,ve as RgbColorPicker,ge as RgbStringColorPicker,ie as RgbaColorPicker,fe as RgbaStringColorPicker,L as setNonce};
//# sourceMappingURL=index.esmodule.js.map
