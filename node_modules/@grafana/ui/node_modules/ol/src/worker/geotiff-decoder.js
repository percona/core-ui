
        const source = "function _typeof(e){return(_typeof=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function asyncGeneratorStep(e,t,r,n,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,a)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){asyncGeneratorStep(i,n,a,o,s,\"next\",e)}function s(e){asyncGeneratorStep(i,n,a,o,s,\"throw\",e)}o(void 0)}))}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _inherits(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _isNativeReflectConstruct(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function _possibleConstructorReturn(e,t){if(t&&(\"object\"==typeof t||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return _assertThisInitialized(e)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_getPrototypeOf(e);if(t){var a=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _iterableToArray(e){if(\"undefined\"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e[\"@@iterator\"])return Array.from(e)}function _unsupportedIterableToArray(e,t){if(e){if(\"string\"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===r&&e.constructor&&(r=e.constructor.name),\"Map\"===r||\"Set\"===r?Array.from(e):\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _nonIterableSpread(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var commonjsGlobal=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,\"default\")?e.default:e}var runtime={exports:{}};!function(e){var t=function(e){var t,r=Object.prototype,n=r.hasOwnProperty,a=\"function\"==typeof Symbol?Symbol:{},i=a.iterator||\"@@iterator\",o=a.asyncIterator||\"@@asyncIterator\",s=a.toStringTag||\"@@toStringTag\";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},\"\")}catch(e){l=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var a=t&&t.prototype instanceof g?t:g,i=Object.create(a.prototype),o=new M(n||[]);return i._invoke=function(e,t,r){var n=c;return function(a,i){if(n===h)throw new Error(\"Generator is already running\");if(n===m){if(\"throw\"===a)throw i;return I()}for(r.method=a,r.arg=i;;){var o=r.delegate;if(o){var s=S(o,r);if(s){if(s===p)continue;return s}}if(\"next\"===r.method)r.sent=r._sent=r.arg;else if(\"throw\"===r.method){if(n===c)throw n=m,r.arg;r.dispatchException(r.arg)}else\"return\"===r.method&&r.abrupt(\"return\",r.arg);n=h;var l=u(e,t,r);if(\"normal\"===l.type){if(n=r.done?m:d,l.arg===p)continue;return{value:l.arg,done:r.done}}\"throw\"===l.type&&(n=m,r.method=\"throw\",r.arg=l.arg)}}}(e,r,o),i}function u(e,t,r){try{return{type:\"normal\",arg:e.call(t,r)}}catch(e){return{type:\"throw\",arg:e}}}e.wrap=f;var c=\"suspendedStart\",d=\"suspendedYield\",h=\"executing\",m=\"completed\",p={};function g(){}function y(){}function b(){}var v={};l(v,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(A([])));_&&_!==r&&n.call(_,i)&&(v=_);var k=b.prototype=g.prototype=Object.create(v);function T(e){[\"next\",\"throw\",\"return\"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(a,i,o,s){var l=u(e[a],e,i);if(\"throw\"!==l.type){var f=l.arg,c=f.value;return c&&\"object\"===_typeof(c)&&n.call(c,\"__await\")?t.resolve(c.__await).then((function(e){r(\"next\",e,o,s)}),(function(e){r(\"throw\",e,o,s)})):t.resolve(c).then((function(e){f.value=e,o(f)}),(function(e){return r(\"throw\",e,o,s)}))}s(l.arg)}var a;this._invoke=function(e,n){function i(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(i,i):i()}}function S(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,\"throw\"===r.method){if(e.iterator.return&&(r.method=\"return\",r.arg=t,S(e,r),\"throw\"===r.method))return p;r.method=\"throw\",r.arg=new TypeError(\"The iterator does not provide a 'throw' method\")}return p}var a=u(n,e.iterator,r.arg);if(\"throw\"===a.type)return r.method=\"throw\",r.arg=a.arg,r.delegate=null,p;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,\"return\"!==r.method&&(r.method=\"next\",r.arg=t),r.delegate=null,p):i:(r.method=\"throw\",r.arg=new TypeError(\"iterator result is not an object\"),r.delegate=null,p)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function D(e){var t=e.completion||{};t.type=\"normal\",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:\"root\"}],e.forEach(E,this),this.reset(!0)}function A(e){if(e){var r=e[i];if(r)return r.call(e);if(\"function\"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function r(){for(;++a<e.length;)if(n.call(e,a))return r.value=e[a],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}return{next:I}}function I(){return{value:t,done:!0}}return y.prototype=b,l(k,\"constructor\",b),l(b,\"constructor\",y),y.displayName=l(b,s,\"GeneratorFunction\"),e.isGeneratorFunction=function(e){var t=\"function\"==typeof e&&e.constructor;return!!t&&(t===y||\"GeneratorFunction\"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,s,\"GeneratorFunction\")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},T(x.prototype),l(x.prototype,o,(function(){return this})),e.AsyncIterator=x,e.async=function(t,r,n,a,i){void 0===i&&(i=Promise);var o=new x(f(t,r,n,a),i);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},T(k),l(k,s,\"Generator\"),l(k,i,(function(){return this})),l(k,\"toString\",(function(){return\"[object Generator]\"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=A,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=t,this.tryEntries.forEach(D),!e)for(var r in this)\"t\"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if(\"throw\"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function a(n,a){return s.type=\"throw\",s.arg=e,r.next=n,a&&(r.method=\"next\",r.arg=t),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if(\"root\"===o.tryLoc)return a(\"end\");if(o.tryLoc<=this.prev){var l=n.call(o,\"catchLoc\"),f=n.call(o,\"finallyLoc\");if(l&&f){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!f)throw new Error(\"try statement without catch or finally\");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,\"finallyLoc\")&&this.prev<a.finallyLoc){var i=a;break}}i&&(\"break\"===e||\"continue\"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method=\"next\",this.next=i.finallyLoc,p):this.complete(o)},complete:function(e,t){if(\"throw\"===e.type)throw e.arg;return\"break\"===e.type||\"continue\"===e.type?this.next=e.arg:\"return\"===e.type?(this.rval=this.arg=e.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),D(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if(\"throw\"===n.type){var a=n.arg;D(r)}return a}}throw new Error(\"illegal catch attempt\")},delegateYield:function(e,r,n){return this.delegate={iterator:A(e),resultName:r,nextLoc:n},\"next\"===this.method&&(this.arg=t),p}},e}(e.exports);try{regeneratorRuntime=t}catch(e){\"object\"===(\"undefined\"==typeof globalThis?\"undefined\":_typeof(globalThis))?globalThis.regeneratorRuntime=t:Function(\"r\",\"regeneratorRuntime = r\")(t)}}(runtime);var worker={},isObservable=function(e){return!!e&&(\"symbol\"===_typeof(Symbol.observable)&&\"function\"==typeof e[Symbol.observable]?e===e[Symbol.observable]():\"function\"==typeof e[\"@@observable\"]&&e===e[\"@@observable\"]())},common$1={},serializers={};function extendSerializer(e,t){var r=e.deserialize.bind(e),n=e.serialize.bind(e);return{deserialize:function(e){return t.deserialize(e,r)},serialize:function(e){return t.serialize(e,n)}}}Object.defineProperty(serializers,\"__esModule\",{value:!0}),serializers.DefaultSerializer=serializers.extendSerializer=void 0,serializers.extendSerializer=extendSerializer;var DefaultErrorSerializer={deserialize:function(e){return Object.assign(Error(e.message),{name:e.name,stack:e.stack})},serialize:function(e){return{__error_marker:\"$$error\",message:e.message,name:e.name,stack:e.stack}}},isSerializedError=function(e){return e&&\"object\"===_typeof(e)&&\"__error_marker\"in e&&\"$$error\"===e.__error_marker};serializers.DefaultSerializer={deserialize:function(e){return isSerializedError(e)?DefaultErrorSerializer.deserialize(e):e},serialize:function(e){return e instanceof Error?DefaultErrorSerializer.serialize(e):e}},Object.defineProperty(common$1,\"__esModule\",{value:!0}),common$1.serialize=common$1.deserialize=common$1.registerSerializer=void 0;var serializers_1=serializers,registeredSerializer=serializers_1.DefaultSerializer;function registerSerializer(e){registeredSerializer=serializers_1.extendSerializer(registeredSerializer,e)}function deserialize(e){return registeredSerializer.deserialize(e)}function serialize(e){return registeredSerializer.serialize(e)}common$1.registerSerializer=registerSerializer,common$1.deserialize=deserialize,common$1.serialize=serialize;var transferable={},symbols={};Object.defineProperty(symbols,\"__esModule\",{value:!0}),symbols.$worker=symbols.$transferable=symbols.$terminate=symbols.$events=symbols.$errors=void 0,symbols.$errors=Symbol(\"thread.errors\"),symbols.$events=Symbol(\"thread.events\"),symbols.$terminate=Symbol(\"thread.terminate\"),symbols.$transferable=Symbol(\"thread.transferable\"),symbols.$worker=Symbol(\"thread.worker\"),Object.defineProperty(transferable,\"__esModule\",{value:!0}),transferable.Transfer=transferable.isTransferDescriptor=void 0;var symbols_1=symbols;function isTransferable(e){return!(!e||\"object\"!==_typeof(e))}function isTransferDescriptor(e){return e&&\"object\"===_typeof(e)&&e[symbols_1.$transferable]}function Transfer$1(e,t){var r;if(!t){if(!isTransferable(e))throw Error();t=[e]}return _defineProperty(r={},symbols_1.$transferable,!0),_defineProperty(r,\"send\",e),_defineProperty(r,\"transferables\",t),r}transferable.isTransferDescriptor=isTransferDescriptor,transferable.Transfer=Transfer$1;var messages$1={},exports,MasterMessageType,WorkerMessageType;exports=messages$1,Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.WorkerMessageType=exports.MasterMessageType=void 0,(MasterMessageType=exports.MasterMessageType||(exports.MasterMessageType={})).cancel=\"cancel\",MasterMessageType.run=\"run\",(WorkerMessageType=exports.WorkerMessageType||(exports.WorkerMessageType={})).error=\"error\",WorkerMessageType.init=\"init\",WorkerMessageType.result=\"result\",WorkerMessageType.running=\"running\",WorkerMessageType.uncaughtError=\"uncaughtError\";var implementation$1={},implementation_browser={};Object.defineProperty(implementation_browser,\"__esModule\",{value:!0});var isWorkerRuntime$2=function(){var e=\"undefined\"!=typeof self&&\"undefined\"!=typeof Window&&self instanceof Window;return!(\"undefined\"==typeof self||!self.postMessage||e)},postMessageToMaster$2=function(e,t){self.postMessage(e,t)},subscribeToMasterMessages$2=function(e){var t=function(t){e(t.data)};return self.addEventListener(\"message\",t),function(){self.removeEventListener(\"message\",t)}};implementation_browser.default={isWorkerRuntime:isWorkerRuntime$2,postMessageToMaster:postMessageToMaster$2,subscribeToMasterMessages:subscribeToMasterMessages$2};var implementation_tinyWorker={};Object.defineProperty(implementation_tinyWorker,\"__esModule\",{value:!0}),\"undefined\"==typeof self&&(commonjsGlobal.self=commonjsGlobal);var isWorkerRuntime$1=function(){return!(\"undefined\"==typeof self||!self.postMessage)},postMessageToMaster$1=function(e){self.postMessage(e)},muxingHandlerSetUp=!1,messageHandlers=new Set,subscribeToMasterMessages$1=function(e){muxingHandlerSetUp||(self.addEventListener(\"message\",(function(e){messageHandlers.forEach((function(t){return t(e.data)}))})),muxingHandlerSetUp=!0),messageHandlers.add(e);return function(){return messageHandlers.delete(e)}};implementation_tinyWorker.default={isWorkerRuntime:isWorkerRuntime$1,postMessageToMaster:postMessageToMaster$1,subscribeToMasterMessages:subscribeToMasterMessages$1};var implementation_worker_threads={},worker_threads={},implementation;function selectImplementation(){return\"function\"==typeof __non_webpack_require__?__non_webpack_require__(\"worker_threads\"):eval(\"require\")(\"worker_threads\")}function getImplementation(){return implementation||(implementation=selectImplementation()),implementation}Object.defineProperty(worker_threads,\"__esModule\",{value:!0}),worker_threads.default=getImplementation;var __importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(implementation_worker_threads,\"__esModule\",{value:!0});var worker_threads_1=__importDefault$1(worker_threads);function assertMessagePort(e){if(!e)throw Error(\"Invariant violation: MessagePort to parent is not available.\");return e}var isWorkerRuntime=function(){return!worker_threads_1.default().isMainThread},postMessageToMaster=function(e,t){assertMessagePort(worker_threads_1.default().parentPort).postMessage(e,t)},subscribeToMasterMessages=function(e){var t=worker_threads_1.default().parentPort;if(!t)throw Error(\"Invariant violation: MessagePort to parent is not available.\");var r=function(t){e(t)};return assertMessagePort(t).on(\"message\",r),function(){assertMessagePort(t).off(\"message\",r)}};function testImplementation(){worker_threads_1.default()}implementation_worker_threads.default={isWorkerRuntime:isWorkerRuntime,postMessageToMaster:postMessageToMaster,subscribeToMasterMessages:subscribeToMasterMessages,testImplementation:testImplementation};var __importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(implementation$1,\"__esModule\",{value:!0});var implementation_browser_1=__importDefault(implementation_browser),implementation_tiny_worker_1=__importDefault(implementation_tinyWorker),implementation_worker_threads_1=__importDefault(implementation_worker_threads),runningInNode=\"undefined\"!=typeof process&&\"browser\"!==process.arch&&\"pid\"in process;function selectNodeImplementation(){try{return implementation_worker_threads_1.default.testImplementation(),implementation_worker_threads_1.default}catch(e){return implementation_tiny_worker_1.default}}implementation$1.default=runningInNode?selectNodeImplementation():implementation_browser_1.default,function(e){var t=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))},r=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,\"__esModule\",{value:!0}),e.expose=e.isWorkerRuntime=e.Transfer=e.registerSerializer=void 0;var n=r(isObservable),a=common$1,i=transferable,o=messages$1,s=r(implementation$1),l=common$1;Object.defineProperty(e,\"registerSerializer\",{enumerable:!0,get:function(){return l.registerSerializer}});var f=transferable;Object.defineProperty(e,\"Transfer\",{enumerable:!0,get:function(){return f.Transfer}}),e.isWorkerRuntime=s.default.isWorkerRuntime;var u=!1,c=new Map,d=function(e){return e&&e.type===o.MasterMessageType.run},h=function(e){return n.default(e)||function(e){return e&&\"object\"===_typeof(e)&&\"function\"==typeof e.subscribe}(e)};function m(e){return i.isTransferDescriptor(e)?{payload:e.send,transferables:e.transferables}:{payload:e,transferables:void 0}}function p(e,t){var r=m(t),n=r.payload,i=r.transferables,l={type:o.WorkerMessageType.error,uid:e,error:a.serialize(n)};s.default.postMessageToMaster(l,i)}function g(e,t,r){var n=m(r),a=n.payload,i=n.transferables,l={type:o.WorkerMessageType.result,uid:e,complete:!!t||void 0,payload:a};s.default.postMessageToMaster(l,i)}function y(e,t){var r={type:o.WorkerMessageType.running,uid:e,resultType:t};s.default.postMessageToMaster(r)}function b(e){try{var t={type:o.WorkerMessageType.uncaughtError,error:a.serialize(e)};s.default.postMessageToMaster(t)}catch(t){console.error(\"Not reporting uncaught error back to master thread as it occured while reporting an uncaught error already.\\nLatest error:\",t,\"\\nOriginal error:\",e)}}function v(e,r,n){return t(this,void 0,void 0,regeneratorRuntime.mark((function t(){var i,o,s,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,i=r.apply(void 0,_toConsumableArray(n)),t.next=7;break;case 4:return t.prev=4,t.t0=t.catch(0),t.abrupt(\"return\",p(e,t.t0));case 7:if(o=h(i)?\"observable\":\"promise\",y(e,o),!h(i)){t.next=14;break}s=i.subscribe((function(t){return g(e,!1,a.serialize(t))}),(function(t){p(e,a.serialize(t)),c.delete(e)}),(function(){g(e,!0),c.delete(e)})),c.set(e,s),t.next=24;break;case 14:return t.prev=14,t.next=17,i;case 17:l=t.sent,g(e,!0,a.serialize(l)),t.next=24;break;case 21:t.prev=21,t.t1=t.catch(14),p(e,a.serialize(t.t1));case 24:case\"end\":return t.stop()}}),t,null,[[0,4],[14,21]])})))}e.expose=function(e){if(!s.default.isWorkerRuntime())throw Error(\"expose() called in the master thread.\");if(u)throw Error(\"expose() called more than once. This is not possible. Pass an object to expose() if you want to expose multiple functions.\");if(u=!0,\"function\"==typeof e)s.default.subscribeToMasterMessages((function(t){d(t)&&!t.method&&v(t.uid,e,t.args.map(a.deserialize))})),t={type:o.WorkerMessageType.init,exposed:{type:\"function\"}},s.default.postMessageToMaster(t);else{if(\"object\"!==_typeof(e)||!e)throw Error(\"Invalid argument passed to expose(). Expected a function or an object, got: \".concat(e));s.default.subscribeToMasterMessages((function(t){d(t)&&t.method&&v(t.uid,e[t.method],t.args.map(a.deserialize))})),function(e){var t={type:o.WorkerMessageType.init,exposed:{type:\"module\",methods:e}};s.default.postMessageToMaster(t)}(Object.keys(e).filter((function(t){return\"function\"==typeof e[t]})))}var t;s.default.subscribeToMasterMessages((function(e){if((n=e)&&n.type===o.MasterMessageType.cancel){var t=e.uid,r=c.get(t);r&&(r.unsubscribe(),c.delete(t))}var n}))},\"undefined\"!=typeof self&&\"function\"==typeof self.addEventListener&&s.default.isWorkerRuntime()&&(self.addEventListener(\"error\",(function(e){setTimeout((function(){return b(e.error||e)}),250)})),self.addEventListener(\"unhandledrejection\",(function(e){var t=e.reason;t&&\"string\"==typeof t.message&&setTimeout((function(){return b(t)}),250)}))),\"undefined\"!=typeof process&&\"function\"==typeof process.on&&s.default.isWorkerRuntime()&&(process.on(\"uncaughtException\",(function(e){setTimeout((function(){return b(e)}),250)})),process.on(\"unhandledRejection\",(function(e){e&&\"string\"==typeof e.message&&setTimeout((function(){return b(e)}),250)})))}(worker);var WorkerContext=getDefaultExportFromCjs(worker),expose=WorkerContext.expose;WorkerContext.registerSerializer;var Transfer=WorkerContext.Transfer;function decodeRowAcc(e,t){var r=e.length-t,n=0;do{for(var a=t;a>0;a--)e[n+t]+=e[n],n++;r-=t}while(r>0)}function decodeRowFloatingPoint(e,t,r){for(var n=0,a=e.length,i=a/r;a>t;){for(var o=t;o>0;--o)e[n+t]+=e[n],++n;a-=t}for(var s=e.slice(),l=0;l<i;++l)for(var f=0;f<r;++f)e[r*l+f]=s[(r-f-1)*i+l]}function applyPredictor(e,t,r,n,a,i){if(!t||1===t)return e;for(var o=0;o<a.length;++o){if(a[o]%8!=0)throw new Error(\"When decoding with predictor, only multiple of 8 bits are supported.\");if(a[o]!==a[0])throw new Error(\"When decoding with predictor, all samples must have the same size.\")}for(var s=a[0]/8,l=2===i?1:a.length,f=0;f<n&&!(f*l*r*s>=e.byteLength);++f){var u=void 0;if(2===t){switch(a[0]){case 8:u=new Uint8Array(e,f*l*r*s,l*r*s);break;case 16:u=new Uint16Array(e,f*l*r*s,l*r*s/2);break;case 32:u=new Uint32Array(e,f*l*r*s,l*r*s/4);break;default:throw new Error(\"Predictor 2 not allowed with \".concat(a[0],\" bits per sample.\"))}decodeRowAcc(u,l)}else 3===t&&decodeRowFloatingPoint(u=new Uint8Array(e,f*l*r*s,l*r*s),l,s)}return e}var BaseDecoder=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:\"decode\",value:function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r){var n,a,i,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.decodeBlock(r);case 2:if(n=e.sent,1===(a=t.Predictor||1)){e.next=9;break}return i=!t.StripOffsets,o=i?t.TileWidth:t.ImageWidth,s=i?t.TileLength:t.RowsPerStrip||t.ImageLength,e.abrupt(\"return\",applyPredictor(n,a,o,s,t.BitsPerSample,t.PlanarConfiguration));case 9:return e.abrupt(\"return\",n);case 10:case\"end\":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}(),RawDecoder=function(e){_inherits(r,BaseDecoder);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r,[{key:\"decodeBlock\",value:function(e){return e}}]),r}(),MIN_BITS=9,CLEAR_CODE=256,EOI_CODE=257,MAX_BYTELENGTH=12;function getByte(e,t,r){var n=t%8,a=Math.floor(t/8),i=8-n,o=t+r-8*(a+1),s=8*(a+2)-(t+r),l=8*(a+2)-t;if(s=Math.max(0,s),a>=e.length)return console.warn(\"ran off the end of the buffer before finding EOI_CODE (end on input code)\"),EOI_CODE;var f=e[a]&Math.pow(2,8-n)-1,u=f<<=r-i;if(a+1<e.length){var c=e[a+1]>>>s;u+=c<<=Math.max(0,r-l)}if(o>8&&a+2<e.length){var d=8*(a+3)-(t+r);u+=e[a+2]>>>d}return u}function appendReversed(e,t){for(var r=t.length-1;r>=0;r--)e.push(t[r]);return e}function decompress(e){for(var t=new Uint16Array(4093),r=new Uint8Array(4093),n=0;n<=257;n++)t[n]=4096,r[n]=n;var a=258,i=MIN_BITS,o=0;function s(){a=258,i=MIN_BITS}function l(e){var t=getByte(e,o,i);return o+=i,t}function f(e,n){return r[a]=n,t[a]=e,++a-1}function u(e){for(var n=[],a=e;4096!==a;a=t[a])n.push(r[a]);return n}var c=[];s();for(var d,h=new Uint8Array(e),m=l(h);m!==EOI_CODE;){if(m===CLEAR_CODE){for(s(),m=l(h);m===CLEAR_CODE;)m=l(h);if(m===EOI_CODE)break;if(m>CLEAR_CODE)throw new Error(\"corrupted code at scanline \".concat(m));appendReversed(c,u(m)),d=m}else if(m<a){var p=u(m);appendReversed(c,p),f(d,p[p.length-1]),d=m}else{var g=u(d);if(!g)throw new Error(\"Bogus entry. Not in dictionary, \".concat(d,\" / \").concat(a,\", position: \").concat(o));appendReversed(c,g),c.push(g[g.length-1]),f(d,g[g.length-1]),d=m}a+1>=Math.pow(2,i)&&(i===MAX_BYTELENGTH?d=void 0:i++),m=l(h)}return new Uint8Array(c)}var LZWDecoder=function(e){_inherits(r,BaseDecoder);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r,[{key:\"decodeBlock\",value:function(e){return decompress(e).buffer}}]),r}(),dctZigZag=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),dctCos1=4017,dctSin1=799,dctCos3=3406,dctSin3=2276,dctCos6=1567,dctSin6=3784,dctSqrt2=5793,dctSqrt1d2=2896;function buildHuffmanTable(e,t){for(var r=0,n=[],a=16;a>0&&!e[a-1];)--a;n.push({children:[],index:0});for(var i,o=n[0],s=0;s<a;s++){for(var l=0;l<e[s];l++){for((o=n.pop()).children[o.index]=t[r];o.index>0;)o=n.pop();for(o.index++,n.push(o);n.length<=s;)n.push(i={children:[],index:0}),o.children[o.index]=i.children,o=i;r++}s+1<a&&(n.push(i={children:[],index:0}),o.children[o.index]=i.children,o=i)}return n[0].children}function decodeScan(e,t,r,n,a,i,o,s,l){var f=r.mcusPerLine,u=r.progressive,c=t,d=t,h=0,m=0;function p(){if(m>0)return m--,h>>m&1;if(255===(h=e[d++])){var t=e[d++];if(t)throw new Error(\"unexpected marker: \".concat((h<<8|t).toString(16)))}return m=7,h>>>7}function g(e){for(var t,r=e;null!==(t=p());){if(\"number\"==typeof(r=r[t]))return r;if(\"object\"!==_typeof(r))throw new Error(\"invalid huffman sequence\")}return null}function y(e){for(var t=e,r=0;t>0;){var n=p();if(null===n)return;r=r<<1|n,--t}return r}function b(e){var t=y(e);return t>=1<<e-1?t:t+(-1<<e)+1}var v=0;var w,_=0;function k(e,t,r,n,a){var i=r%f,o=(r/f|0)*e.v+n,s=i*e.h+a;t(e,e.blocks[o][s])}function T(e,t,r){var n=r/e.blocksPerLine|0,a=r%e.blocksPerLine;t(e,e.blocks[n][a])}var x,S,E,D,M,A,I=n.length;A=u?0===i?0===s?function(e,t){var r=g(e.huffmanTableDC),n=0===r?0:b(r)<<l;e.pred+=n,t[0]=e.pred}:function(e,t){t[0]|=p()<<l}:0===s?function(e,t){if(v>0)v--;else for(var r=i,n=o;r<=n;){var a=g(e.huffmanTableAC),s=15&a,f=a>>4;if(0===s){if(f<15){v=y(f)+(1<<f)-1;break}r+=16}else t[dctZigZag[r+=f]]=b(s)*(1<<l),r++}}:function(e,t){for(var r=i,n=o,a=0;r<=n;){var s=dctZigZag[r],f=t[s]<0?-1:1;switch(_){case 0:var u=g(e.huffmanTableAC),c=15&u;if(a=u>>4,0===c)a<15?(v=y(a)+(1<<a),_=4):(a=16,_=1);else{if(1!==c)throw new Error(\"invalid ACn encoding\");w=b(c),_=a?2:3}continue;case 1:case 2:t[s]?t[s]+=(p()<<l)*f:0==--a&&(_=2===_?3:0);break;case 3:t[s]?t[s]+=(p()<<l)*f:(t[s]=w<<l,_=0);break;case 4:t[s]&&(t[s]+=(p()<<l)*f)}r++}4===_&&0==--v&&(_=0)}:function(e,t){var r=g(e.huffmanTableDC),n=0===r?0:b(r);e.pred+=n,t[0]=e.pred;for(var a=1;a<64;){var i=g(e.huffmanTableAC),o=15&i,s=i>>4;if(0===o){if(s<15)break;a+=16}else t[dctZigZag[a+=s]]=b(o),a++}};var P,C,O=0;C=1===I?n[0].blocksPerLine*n[0].blocksPerColumn:f*r.mcusPerColumn;for(var R=a||C;O<C;){for(S=0;S<I;S++)n[S].pred=0;if(v=0,1===I)for(x=n[0],M=0;M<R;M++)T(x,A,O),O++;else for(M=0;M<R;M++){for(S=0;S<I;S++){var L=x=n[S],B=L.h,U=L.v;for(E=0;E<U;E++)for(D=0;D<B;D++)k(x,A,O,E,D)}if(++O===C)break}if(m=0,(P=e[d]<<8|e[d+1])<65280)throw new Error(\"marker was not found\");if(!(P>=65488&&P<=65495))break;d+=2}return d-c}function buildComponentData(e,t){var r=[],n=t.blocksPerLine,a=t.blocksPerColumn,i=n<<3,o=new Int32Array(64),s=new Uint8Array(64);function l(e,r,n){var a,i,o,s,l,f,u,c,d,h,m=t.quantizationTable,p=n;for(h=0;h<64;h++)p[h]=e[h]*m[h];for(h=0;h<8;++h){var g=8*h;0!==p[1+g]||0!==p[2+g]||0!==p[3+g]||0!==p[4+g]||0!==p[5+g]||0!==p[6+g]||0!==p[7+g]?(a=dctSqrt2*p[0+g]+128>>8,i=dctSqrt2*p[4+g]+128>>8,o=p[2+g],s=p[6+g],l=dctSqrt1d2*(p[1+g]-p[7+g])+128>>8,c=dctSqrt1d2*(p[1+g]+p[7+g])+128>>8,f=p[3+g]<<4,u=p[5+g]<<4,d=a-i+1>>1,a=a+i+1>>1,i=d,d=o*dctSin6+s*dctCos6+128>>8,o=o*dctCos6-s*dctSin6+128>>8,s=d,d=l-u+1>>1,l=l+u+1>>1,u=d,d=c+f+1>>1,f=c-f+1>>1,c=d,d=a-s+1>>1,a=a+s+1>>1,s=d,d=i-o+1>>1,i=i+o+1>>1,o=d,d=l*dctSin3+c*dctCos3+2048>>12,l=l*dctCos3-c*dctSin3+2048>>12,c=d,d=f*dctSin1+u*dctCos1+2048>>12,f=f*dctCos1-u*dctSin1+2048>>12,u=d,p[0+g]=a+c,p[7+g]=a-c,p[1+g]=i+u,p[6+g]=i-u,p[2+g]=o+f,p[5+g]=o-f,p[3+g]=s+l,p[4+g]=s-l):(d=dctSqrt2*p[0+g]+512>>10,p[0+g]=d,p[1+g]=d,p[2+g]=d,p[3+g]=d,p[4+g]=d,p[5+g]=d,p[6+g]=d,p[7+g]=d)}for(h=0;h<8;++h){var y=h;0!==p[8+y]||0!==p[16+y]||0!==p[24+y]||0!==p[32+y]||0!==p[40+y]||0!==p[48+y]||0!==p[56+y]?(a=dctSqrt2*p[0+y]+2048>>12,i=dctSqrt2*p[32+y]+2048>>12,o=p[16+y],s=p[48+y],l=dctSqrt1d2*(p[8+y]-p[56+y])+2048>>12,c=dctSqrt1d2*(p[8+y]+p[56+y])+2048>>12,f=p[24+y],u=p[40+y],d=a-i+1>>1,a=a+i+1>>1,i=d,d=o*dctSin6+s*dctCos6+2048>>12,o=o*dctCos6-s*dctSin6+2048>>12,s=d,d=l-u+1>>1,l=l+u+1>>1,u=d,d=c+f+1>>1,f=c-f+1>>1,c=d,d=a-s+1>>1,a=a+s+1>>1,s=d,d=i-o+1>>1,i=i+o+1>>1,o=d,d=l*dctSin3+c*dctCos3+2048>>12,l=l*dctCos3-c*dctSin3+2048>>12,c=d,d=f*dctSin1+u*dctCos1+2048>>12,f=f*dctCos1-u*dctSin1+2048>>12,u=d,p[0+y]=a+c,p[56+y]=a-c,p[8+y]=i+u,p[48+y]=i-u,p[16+y]=o+f,p[40+y]=o-f,p[24+y]=s+l,p[32+y]=s-l):(d=dctSqrt2*n[h+0]+8192>>14,p[0+y]=d,p[8+y]=d,p[16+y]=d,p[24+y]=d,p[32+y]=d,p[40+y]=d,p[48+y]=d,p[56+y]=d)}for(h=0;h<64;++h){var b=128+(p[h]+8>>4);r[h]=b<0?0:b>255?255:b}}for(var f=0;f<a;f++){for(var u=f<<3,c=0;c<8;c++)r.push(new Uint8Array(i));for(var d=0;d<n;d++){l(t.blocks[f][d],s,o);for(var h=0,m=d<<3,p=0;p<8;p++)for(var g=r[u+p],y=0;y<8;y++)g[m+y]=s[h++]}}return r}var JpegStreamReader=function(){function e(){_classCallCheck(this,e),this.jfif=null,this.adobe=null,this.quantizationTables=[],this.huffmanTablesAC=[],this.huffmanTablesDC=[],this.resetFrames()}return _createClass(e,[{key:\"resetFrames\",value:function(){this.frames=[]}},{key:\"parse\",value:function(e){var t=0;function r(){var r=e[t]<<8|e[t+1];return t+=2,r}function n(e){var t,r,n=0,a=0;for(r in e.components)e.components.hasOwnProperty(r)&&(n<(t=e.components[r]).h&&(n=t.h),a<t.v&&(a=t.v));var i=Math.ceil(e.samplesPerLine/8/n),o=Math.ceil(e.scanLines/8/a);for(r in e.components)if(e.components.hasOwnProperty(r)){t=e.components[r];for(var s=Math.ceil(Math.ceil(e.samplesPerLine/8)*t.h/n),l=Math.ceil(Math.ceil(e.scanLines/8)*t.v/a),f=i*t.h,u=o*t.v,c=[],d=0;d<u;d++){for(var h=[],m=0;m<f;m++)h.push(new Int32Array(64));c.push(h)}t.blocksPerLine=s,t.blocksPerColumn=l,t.blocks=c}e.maxH=n,e.maxV=a,e.mcusPerLine=i,e.mcusPerColumn=o}var a,i,o=r();if(65496!==o)throw new Error(\"SOI not found\");for(o=r();65497!==o;){switch(o){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var s=(a=void 0,i=void 0,a=r(),i=e.subarray(t,t+a-2),t+=i.length,i);65504===o&&74===s[0]&&70===s[1]&&73===s[2]&&70===s[3]&&0===s[4]&&(this.jfif={version:{major:s[5],minor:s[6]},densityUnits:s[7],xDensity:s[8]<<8|s[9],yDensity:s[10]<<8|s[11],thumbWidth:s[12],thumbHeight:s[13],thumbData:s.subarray(14,14+3*s[12]*s[13])}),65518===o&&65===s[0]&&100===s[1]&&111===s[2]&&98===s[3]&&101===s[4]&&0===s[5]&&(this.adobe={version:s[6],flags0:s[7]<<8|s[8],flags1:s[9]<<8|s[10],transformCode:s[11]});break;case 65499:for(var l=r()+t-2;t<l;){var f=e[t++],u=new Int32Array(64);if(f>>4==0)for(var c=0;c<64;c++){u[dctZigZag[c]]=e[t++]}else{if(f>>4!=1)throw new Error(\"DQT: invalid table spec\");for(var d=0;d<64;d++){u[dctZigZag[d]]=r()}}this.quantizationTables[15&f]=u}break;case 65472:case 65473:case 65474:r();for(var h={extended:65473===o,progressive:65474===o,precision:e[t++],scanLines:r(),samplesPerLine:r(),components:{},componentsOrder:[]},m=e[t++],p=void 0,g=0;g<m;g++){p=e[t];var y=e[t+1]>>4,b=15&e[t+1],v=e[t+2];h.componentsOrder.push(p),h.components[p]={h:y,v:b,quantizationIdx:v},t+=3}n(h),this.frames.push(h);break;case 65476:for(var w=r(),_=2;_<w;){for(var k=e[t++],T=new Uint8Array(16),x=0,S=0;S<16;S++,t++)T[S]=e[t],x+=T[S];for(var E=new Uint8Array(x),D=0;D<x;D++,t++)E[D]=e[t];_+=17+x,k>>4==0?this.huffmanTablesDC[15&k]=buildHuffmanTable(T,E):this.huffmanTablesAC[15&k]=buildHuffmanTable(T,E)}break;case 65501:r(),this.resetInterval=r();break;case 65498:r();for(var M=e[t++],A=[],I=this.frames[0],P=0;P<M;P++){var C=I.components[e[t++]],O=e[t++];C.huffmanTableDC=this.huffmanTablesDC[O>>4],C.huffmanTableAC=this.huffmanTablesAC[15&O],A.push(C)}var R=e[t++],L=e[t++],B=e[t++],U=decodeScan(e,t,I,A,this.resetInterval,R,L,B>>4,15&B);t+=U;break;case 65535:255!==e[t]&&t--;break;default:if(255===e[t-3]&&e[t-2]>=192&&e[t-2]<=254){t-=3;break}throw new Error(\"unknown JPEG marker \".concat(o.toString(16)))}o=r()}}},{key:\"getResult\",value:function(){var e=this.frames;if(0===this.frames.length)throw new Error(\"no frames were decoded\");this.frames.length>1&&console.warn(\"more than one frame is not supported\");for(var t=0;t<this.frames.length;t++)for(var r=this.frames[t].components,n=0,a=Object.keys(r);n<a.length;n++){var i=a[n];r[i].quantizationTable=this.quantizationTables[r[i].quantizationIdx],delete r[i].quantizationIdx}for(var o=e[0],s=o.components,l=o.componentsOrder,f=[],u=o.samplesPerLine,c=o.scanLines,d=0;d<l.length;d++){var h=s[l[d]];f.push({lines:buildComponentData(o,h),scaleX:h.h/o.maxH,scaleY:h.v/o.maxV})}for(var m=new Uint8Array(u*c*f.length),p=0,g=0;g<c;++g)for(var y=0;y<u;++y)for(var b=0;b<f.length;++b){var v=f[b];m[p]=v.lines[0|g*v.scaleY][0|y*v.scaleX],++p}return m}}]),e}(),JpegDecoder=function(e){_inherits(r,BaseDecoder);var t=_createSuper(r);function r(e){var n;return _classCallCheck(this,r),(n=t.call(this)).reader=new JpegStreamReader,e.JPEGTables&&n.reader.parse(e.JPEGTables),n}return _createClass(r,[{key:\"decodeBlock\",value:function(e){return this.reader.resetFrames(),this.reader.parse(new Uint8Array(e)),this.reader.getResult().buffer}}]),r}(),inflate$2={},common={};function adler32$1(e,t,r,n){for(var a=65535&e|0,i=e>>>16&65535|0,o=0;0!==r;){r-=o=r>2e3?2e3:r;do{i=i+(a=a+t[n++]|0)|0}while(--o);a%=65521,i%=65521}return a|i<<16|0}!function(e){var t=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Int32Array;function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if(\"object\"!==_typeof(n))throw new TypeError(n+\"must be non-object\");for(var a in n)r(n,a)&&(e[a]=n[a])}}return e},e.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var n={arraySet:function(e,t,r,n,a){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),a);else for(var i=0;i<n;i++)e[a+i]=t[r+i]},flattenChunks:function(e){var t,r,n,a,i,o;for(n=0,t=0,r=e.length;t<r;t++)n+=e[t].length;for(o=new Uint8Array(n),a=0,t=0,r=e.length;t<r;t++)i=e[t],o.set(i,a),a+=i.length;return o}},a={arraySet:function(e,t,r,n,a){for(var i=0;i<n;i++)e[a+i]=t[r+i]},flattenChunks:function(e){return[].concat.apply([],e)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,n)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,a))},e.setTyped(t)}(common);var adler32_1=adler32$1;function makeTable(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}var crcTable=makeTable();function crc32$1(e,t,r,n){var a=crcTable,i=n+r;e^=-1;for(var o=n;o<i;o++)e=e>>>8^a[255&(e^t[o])];return-1^e}var crc32_1=crc32$1,BAD$1=30,TYPE$1=12,inffast=function(e,t){var r,n,a,i,o,s,l,f,u,c,d,h,m,p,g,y,b,v,w,_,k,T,x,S,E;r=e.state,n=e.next_in,S=e.input,a=n+(e.avail_in-5),i=e.next_out,E=e.output,o=i-(t-e.avail_out),s=i+(e.avail_out-257),l=r.dmax,f=r.wsize,u=r.whave,c=r.wnext,d=r.window,h=r.hold,m=r.bits,p=r.lencode,g=r.distcode,y=(1<<r.lenbits)-1,b=(1<<r.distbits)-1;e:do{m<15&&(h+=S[n++]<<m,m+=8,h+=S[n++]<<m,m+=8),v=p[h&y];t:for(;;){if(h>>>=w=v>>>24,m-=w,0===(w=v>>>16&255))E[i++]=65535&v;else{if(!(16&w)){if(0==(64&w)){v=p[(65535&v)+(h&(1<<w)-1)];continue t}if(32&w){r.mode=TYPE$1;break e}e.msg=\"invalid literal/length code\",r.mode=BAD$1;break e}_=65535&v,(w&=15)&&(m<w&&(h+=S[n++]<<m,m+=8),_+=h&(1<<w)-1,h>>>=w,m-=w),m<15&&(h+=S[n++]<<m,m+=8,h+=S[n++]<<m,m+=8),v=g[h&b];r:for(;;){if(h>>>=w=v>>>24,m-=w,!(16&(w=v>>>16&255))){if(0==(64&w)){v=g[(65535&v)+(h&(1<<w)-1)];continue r}e.msg=\"invalid distance code\",r.mode=BAD$1;break e}if(k=65535&v,m<(w&=15)&&(h+=S[n++]<<m,(m+=8)<w&&(h+=S[n++]<<m,m+=8)),(k+=h&(1<<w)-1)>l){e.msg=\"invalid distance too far back\",r.mode=BAD$1;break e}if(h>>>=w,m-=w,k>(w=i-o)){if((w=k-w)>u&&r.sane){e.msg=\"invalid distance too far back\",r.mode=BAD$1;break e}if(T=0,x=d,0===c){if(T+=f-w,w<_){_-=w;do{E[i++]=d[T++]}while(--w);T=i-k,x=E}}else if(c<w){if(T+=f+c-w,(w-=c)<_){_-=w;do{E[i++]=d[T++]}while(--w);if(T=0,c<_){_-=w=c;do{E[i++]=d[T++]}while(--w);T=i-k,x=E}}}else if(T+=c-w,w<_){_-=w;do{E[i++]=d[T++]}while(--w);T=i-k,x=E}for(;_>2;)E[i++]=x[T++],E[i++]=x[T++],E[i++]=x[T++],_-=3;_&&(E[i++]=x[T++],_>1&&(E[i++]=x[T++]))}else{T=i-k;do{E[i++]=E[T++],E[i++]=E[T++],E[i++]=E[T++],_-=3}while(_>2);_&&(E[i++]=E[T++],_>1&&(E[i++]=E[T++]))}break}}break}}while(n<a&&i<s);n-=_=m>>3,h&=(1<<(m-=_<<3))-1,e.next_in=n,e.next_out=i,e.avail_in=n<a?a-n+5:5-(n-a),e.avail_out=i<s?s-i+257:257-(i-s),r.hold=h,r.bits=m},utils$3=common,MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],lext=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],dbase=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],dext=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],inftrees=function(e,t,r,n,a,i,o,s){var l,f,u,c,d,h,m,p,g,y=s.bits,b=0,v=0,w=0,_=0,k=0,T=0,x=0,S=0,E=0,D=0,M=null,A=0,I=new utils$3.Buf16(MAXBITS+1),P=new utils$3.Buf16(MAXBITS+1),C=null,O=0;for(b=0;b<=MAXBITS;b++)I[b]=0;for(v=0;v<n;v++)I[t[r+v]]++;for(k=y,_=MAXBITS;_>=1&&0===I[_];_--);if(k>_&&(k=_),0===_)return a[i++]=20971520,a[i++]=20971520,s.bits=1,0;for(w=1;w<_&&0===I[w];w++);for(k<w&&(k=w),S=1,b=1;b<=MAXBITS;b++)if(S<<=1,(S-=I[b])<0)return-1;if(S>0&&(e===CODES$1||1!==_))return-1;for(P[1]=0,b=1;b<MAXBITS;b++)P[b+1]=P[b]+I[b];for(v=0;v<n;v++)0!==t[r+v]&&(o[P[t[r+v]]++]=v);if(e===CODES$1?(M=C=o,h=19):e===LENS$1?(M=lbase,A-=257,C=lext,O-=257,h=256):(M=dbase,C=dext,h=-1),D=0,v=0,b=w,d=i,T=k,x=0,u=-1,c=(E=1<<k)-1,e===LENS$1&&E>ENOUGH_LENS$1||e===DISTS$1&&E>ENOUGH_DISTS$1)return 1;for(;;){m=b-x,o[v]<h?(p=0,g=o[v]):o[v]>h?(p=C[O+o[v]],g=M[A+o[v]]):(p=96,g=0),l=1<<b-x,w=f=1<<T;do{a[d+(D>>x)+(f-=l)]=m<<24|p<<16|g|0}while(0!==f);for(l=1<<b-1;D&l;)l>>=1;if(0!==l?(D&=l-1,D+=l):D=0,v++,0==--I[b]){if(b===_)break;b=t[r+o[v]]}if(b>k&&(D&c)!==u){for(0===x&&(x=k),d+=w,S=1<<(T=b-x);T+x<_&&!((S-=I[T+x])<=0);)T++,S<<=1;if(E+=1<<T,e===LENS$1&&E>ENOUGH_LENS$1||e===DISTS$1&&E>ENOUGH_DISTS$1)return 1;a[u=D&c]=k<<24|T<<16|d-i|0}}return 0!==D&&(a[d+D]=b-x<<24|64<<16|0),s.bits=k,0},utils$2=common,adler32=adler32_1,crc32=crc32_1,inflate_fast=inffast,inflate_table=inftrees,CODES=0,LENS=1,DISTS=2,Z_FINISH=4,Z_BLOCK=5,Z_TREES=6,Z_OK=0,Z_STREAM_END=1,Z_NEED_DICT=2,Z_STREAM_ERROR=-2,Z_DATA_ERROR=-3,Z_MEM_ERROR=-4,Z_BUF_ERROR=-5,Z_DEFLATED=8,HEAD=1,FLAGS=2,TIME=3,OS=4,EXLEN=5,EXTRA=6,NAME=7,COMMENT=8,HCRC=9,DICTID=10,DICT=11,TYPE=12,TYPEDO=13,STORED=14,COPY_=15,COPY=16,TABLE=17,LENLENS=18,CODELENS=19,LEN_=20,LEN=21,LENEXT=22,DIST=23,DISTEXT=24,MATCH=25,LIT=26,CHECK=27,LENGTH=28,DONE=29,BAD=30,MEM=31,SYNC=32,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS;function zswap32(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function InflateState(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new utils$2.Buf16(320),this.work=new utils$2.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function inflateResetKeep(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg=\"\",t.wrap&&(e.adler=1&t.wrap),t.mode=HEAD,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new utils$2.Buf32(ENOUGH_LENS),t.distcode=t.distdyn=new utils$2.Buf32(ENOUGH_DISTS),t.sane=1,t.back=-1,Z_OK):Z_STREAM_ERROR}function inflateReset(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,inflateResetKeep(e)):Z_STREAM_ERROR}function inflateReset2(e,t){var r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?Z_STREAM_ERROR:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,inflateReset(e))):Z_STREAM_ERROR}function inflateInit2(e,t){var r,n;return e?(n=new InflateState,e.state=n,n.window=null,(r=inflateReset2(e,t))!==Z_OK&&(e.state=null),r):Z_STREAM_ERROR}function inflateInit(e){return inflateInit2(e,DEF_WBITS)}var virgin=!0,lenfix,distfix;function fixedtables(e){if(virgin){var t;for(lenfix=new utils$2.Buf32(512),distfix=new utils$2.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(inflate_table(LENS,e.lens,0,288,lenfix,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;inflate_table(DISTS,e.lens,0,32,distfix,0,e.work,{bits:5}),virgin=!1}e.lencode=lenfix,e.lenbits=9,e.distcode=distfix,e.distbits=5}function updatewindow(e,t,r,n){var a,i=e.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new utils$2.Buf8(i.wsize)),n>=i.wsize?(utils$2.arraySet(i.window,t,r-i.wsize,i.wsize,0),i.wnext=0,i.whave=i.wsize):((a=i.wsize-i.wnext)>n&&(a=n),utils$2.arraySet(i.window,t,r-n,a,i.wnext),(n-=a)?(utils$2.arraySet(i.window,t,r-n,n,0),i.wnext=n,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0}function inflate$1(e,t){var r,n,a,i,o,s,l,f,u,c,d,h,m,p,g,y,b,v,w,_,k,T,x,S,E=0,D=new utils$2.Buf8(4),M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return Z_STREAM_ERROR;(r=e.state).mode===TYPE&&(r.mode=TYPEDO),o=e.next_out,a=e.output,l=e.avail_out,i=e.next_in,n=e.input,s=e.avail_in,f=r.hold,u=r.bits,c=s,d=l,T=Z_OK;e:for(;;)switch(r.mode){case HEAD:if(0===r.wrap){r.mode=TYPEDO;break}for(;u<16;){if(0===s)break e;s--,f+=n[i++]<<u,u+=8}if(2&r.wrap&&35615===f){r.check=0,D[0]=255&f,D[1]=f>>>8&255,r.check=crc32(r.check,D,2,0),f=0,u=0,r.mode=FLAGS;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&f)<<8)+(f>>8))%31){e.msg=\"incorrect header check\",r.mode=BAD;break}if((15&f)!==Z_DEFLATED){e.msg=\"unknown compression method\",r.mode=BAD;break}if(u-=4,k=8+(15&(f>>>=4)),0===r.wbits)r.wbits=k;else if(k>r.wbits){e.msg=\"invalid window size\",r.mode=BAD;break}r.dmax=1<<k,e.adler=r.check=1,r.mode=512&f?DICTID:TYPE,f=0,u=0;break;case FLAGS:for(;u<16;){if(0===s)break e;s--,f+=n[i++]<<u,u+=8}if(r.flags=f,(255&r.flags)!==Z_DEFLATED){e.msg=\"unknown compression method\",r.mode=BAD;break}if(57344&r.flags){e.msg=\"unknown header flags set\",r.mode=BAD;break}r.head&&(r.head.text=f>>8&1),512&r.flags&&(D[0]=255&f,D[1]=f>>>8&255,r.check=crc32(r.check,D,2,0)),f=0,u=0,r.mode=TIME;case TIME:for(;u<32;){if(0===s)break e;s--,f+=n[i++]<<u,u+=8}r.head&&(r.head.time=f),512&r.flags&&(D[0]=255&f,D[1]=f>>>8&255,D[2]=f>>>16&255,D[3]=f>>>24&255,r.check=crc32(r.check,D,4,0)),f=0,u=0,r.mode=OS;case OS:for(;u<16;){if(0===s)break e;s--,f+=n[i++]<<u,u+=8}r.head&&(r.head.xflags=255&f,r.head.os=f>>8),512&r.flags&&(D[0]=255&f,D[1]=f>>>8&255,r.check=crc32(r.check,D,2,0)),f=0,u=0,r.mode=EXLEN;case EXLEN:if(1024&r.flags){for(;u<16;){if(0===s)break e;s--,f+=n[i++]<<u,u+=8}r.length=f,r.head&&(r.head.extra_len=f),512&r.flags&&(D[0]=255&f,D[1]=f>>>8&255,r.check=crc32(r.check,D,2,0)),f=0,u=0}else r.head&&(r.head.extra=null);r.mode=EXTRA;case EXTRA:if(1024&r.flags&&((h=r.length)>s&&(h=s),h&&(r.head&&(k=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),utils$2.arraySet(r.head.extra,n,i,h,k)),512&r.flags&&(r.check=crc32(r.check,n,h,i)),s-=h,i+=h,r.length-=h),r.length))break e;r.length=0,r.mode=NAME;case NAME:if(2048&r.flags){if(0===s)break e;h=0;do{k=n[i+h++],r.head&&k&&r.length<65536&&(r.head.name+=String.fromCharCode(k))}while(k&&h<s);if(512&r.flags&&(r.check=crc32(r.check,n,h,i)),s-=h,i+=h,k)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=COMMENT;case COMMENT:if(4096&r.flags){if(0===s)break e;h=0;do{k=n[i+h++],r.head&&k&&r.length<65536&&(r.head.comment+=String.fromCharCode(k))}while(k&&h<s);if(512&r.flags&&(r.check=crc32(r.check,n,h,i)),s-=h,i+=h,k)break e}else r.head&&(r.head.comment=null);r.mode=HCRC;case HCRC:if(512&r.flags){for(;u<16;){if(0===s)break e;s--,f+=n[i++]<<u,u+=8}if(f!==(65535&r.check)){e.msg=\"header crc mismatch\",r.mode=BAD;break}f=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=TYPE;break;case DICTID:for(;u<32;){if(0===s)break e;s--,f+=n[i++]<<u,u+=8}e.adler=r.check=zswap32(f),f=0,u=0,r.mode=DICT;case DICT:if(0===r.havedict)return e.next_out=o,e.avail_out=l,e.next_in=i,e.avail_in=s,r.hold=f,r.bits=u,Z_NEED_DICT;e.adler=r.check=1,r.mode=TYPE;case TYPE:if(t===Z_BLOCK||t===Z_TREES)break e;case TYPEDO:if(r.last){f>>>=7&u,u-=7&u,r.mode=CHECK;break}for(;u<3;){if(0===s)break e;s--,f+=n[i++]<<u,u+=8}switch(r.last=1&f,u-=1,3&(f>>>=1)){case 0:r.mode=STORED;break;case 1:if(fixedtables(r),r.mode=LEN_,t===Z_TREES){f>>>=2,u-=2;break e}break;case 2:r.mode=TABLE;break;case 3:e.msg=\"invalid block type\",r.mode=BAD}f>>>=2,u-=2;break;case STORED:for(f>>>=7&u,u-=7&u;u<32;){if(0===s)break e;s--,f+=n[i++]<<u,u+=8}if((65535&f)!=(f>>>16^65535)){e.msg=\"invalid stored block lengths\",r.mode=BAD;break}if(r.length=65535&f,f=0,u=0,r.mode=COPY_,t===Z_TREES)break e;case COPY_:r.mode=COPY;case COPY:if(h=r.length){if(h>s&&(h=s),h>l&&(h=l),0===h)break e;utils$2.arraySet(a,n,i,h,o),s-=h,i+=h,l-=h,o+=h,r.length-=h;break}r.mode=TYPE;break;case TABLE:for(;u<14;){if(0===s)break e;s--,f+=n[i++]<<u,u+=8}if(r.nlen=257+(31&f),f>>>=5,u-=5,r.ndist=1+(31&f),f>>>=5,u-=5,r.ncode=4+(15&f),f>>>=4,u-=4,r.nlen>286||r.ndist>30){e.msg=\"too many length or distance symbols\",r.mode=BAD;break}r.have=0,r.mode=LENLENS;case LENLENS:for(;r.have<r.ncode;){for(;u<3;){if(0===s)break e;s--,f+=n[i++]<<u,u+=8}r.lens[M[r.have++]]=7&f,f>>>=3,u-=3}for(;r.have<19;)r.lens[M[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,x={bits:r.lenbits},T=inflate_table(CODES,r.lens,0,19,r.lencode,0,r.work,x),r.lenbits=x.bits,T){e.msg=\"invalid code lengths set\",r.mode=BAD;break}r.have=0,r.mode=CODELENS;case CODELENS:for(;r.have<r.nlen+r.ndist;){for(;y=(E=r.lencode[f&(1<<r.lenbits)-1])>>>16&255,b=65535&E,!((g=E>>>24)<=u);){if(0===s)break e;s--,f+=n[i++]<<u,u+=8}if(b<16)f>>>=g,u-=g,r.lens[r.have++]=b;else{if(16===b){for(S=g+2;u<S;){if(0===s)break e;s--,f+=n[i++]<<u,u+=8}if(f>>>=g,u-=g,0===r.have){e.msg=\"invalid bit length repeat\",r.mode=BAD;break}k=r.lens[r.have-1],h=3+(3&f),f>>>=2,u-=2}else if(17===b){for(S=g+3;u<S;){if(0===s)break e;s--,f+=n[i++]<<u,u+=8}u-=g,k=0,h=3+(7&(f>>>=g)),f>>>=3,u-=3}else{for(S=g+7;u<S;){if(0===s)break e;s--,f+=n[i++]<<u,u+=8}u-=g,k=0,h=11+(127&(f>>>=g)),f>>>=7,u-=7}if(r.have+h>r.nlen+r.ndist){e.msg=\"invalid bit length repeat\",r.mode=BAD;break}for(;h--;)r.lens[r.have++]=k}}if(r.mode===BAD)break;if(0===r.lens[256]){e.msg=\"invalid code -- missing end-of-block\",r.mode=BAD;break}if(r.lenbits=9,x={bits:r.lenbits},T=inflate_table(LENS,r.lens,0,r.nlen,r.lencode,0,r.work,x),r.lenbits=x.bits,T){e.msg=\"invalid literal/lengths set\",r.mode=BAD;break}if(r.distbits=6,r.distcode=r.distdyn,x={bits:r.distbits},T=inflate_table(DISTS,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,x),r.distbits=x.bits,T){e.msg=\"invalid distances set\",r.mode=BAD;break}if(r.mode=LEN_,t===Z_TREES)break e;case LEN_:r.mode=LEN;case LEN:if(s>=6&&l>=258){e.next_out=o,e.avail_out=l,e.next_in=i,e.avail_in=s,r.hold=f,r.bits=u,inflate_fast(e,d),o=e.next_out,a=e.output,l=e.avail_out,i=e.next_in,n=e.input,s=e.avail_in,f=r.hold,u=r.bits,r.mode===TYPE&&(r.back=-1);break}for(r.back=0;y=(E=r.lencode[f&(1<<r.lenbits)-1])>>>16&255,b=65535&E,!((g=E>>>24)<=u);){if(0===s)break e;s--,f+=n[i++]<<u,u+=8}if(y&&0==(240&y)){for(v=g,w=y,_=b;y=(E=r.lencode[_+((f&(1<<v+w)-1)>>v)])>>>16&255,b=65535&E,!(v+(g=E>>>24)<=u);){if(0===s)break e;s--,f+=n[i++]<<u,u+=8}f>>>=v,u-=v,r.back+=v}if(f>>>=g,u-=g,r.back+=g,r.length=b,0===y){r.mode=LIT;break}if(32&y){r.back=-1,r.mode=TYPE;break}if(64&y){e.msg=\"invalid literal/length code\",r.mode=BAD;break}r.extra=15&y,r.mode=LENEXT;case LENEXT:if(r.extra){for(S=r.extra;u<S;){if(0===s)break e;s--,f+=n[i++]<<u,u+=8}r.length+=f&(1<<r.extra)-1,f>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=DIST;case DIST:for(;y=(E=r.distcode[f&(1<<r.distbits)-1])>>>16&255,b=65535&E,!((g=E>>>24)<=u);){if(0===s)break e;s--,f+=n[i++]<<u,u+=8}if(0==(240&y)){for(v=g,w=y,_=b;y=(E=r.distcode[_+((f&(1<<v+w)-1)>>v)])>>>16&255,b=65535&E,!(v+(g=E>>>24)<=u);){if(0===s)break e;s--,f+=n[i++]<<u,u+=8}f>>>=v,u-=v,r.back+=v}if(f>>>=g,u-=g,r.back+=g,64&y){e.msg=\"invalid distance code\",r.mode=BAD;break}r.offset=b,r.extra=15&y,r.mode=DISTEXT;case DISTEXT:if(r.extra){for(S=r.extra;u<S;){if(0===s)break e;s--,f+=n[i++]<<u,u+=8}r.offset+=f&(1<<r.extra)-1,f>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg=\"invalid distance too far back\",r.mode=BAD;break}r.mode=MATCH;case MATCH:if(0===l)break e;if(h=d-l,r.offset>h){if((h=r.offset-h)>r.whave&&r.sane){e.msg=\"invalid distance too far back\",r.mode=BAD;break}h>r.wnext?(h-=r.wnext,m=r.wsize-h):m=r.wnext-h,h>r.length&&(h=r.length),p=r.window}else p=a,m=o-r.offset,h=r.length;h>l&&(h=l),l-=h,r.length-=h;do{a[o++]=p[m++]}while(--h);0===r.length&&(r.mode=LEN);break;case LIT:if(0===l)break e;a[o++]=r.length,l--,r.mode=LEN;break;case CHECK:if(r.wrap){for(;u<32;){if(0===s)break e;s--,f|=n[i++]<<u,u+=8}if(d-=l,e.total_out+=d,r.total+=d,d&&(e.adler=r.check=r.flags?crc32(r.check,a,d,o-d):adler32(r.check,a,d,o-d)),d=l,(r.flags?f:zswap32(f))!==r.check){e.msg=\"incorrect data check\",r.mode=BAD;break}f=0,u=0}r.mode=LENGTH;case LENGTH:if(r.wrap&&r.flags){for(;u<32;){if(0===s)break e;s--,f+=n[i++]<<u,u+=8}if(f!==(4294967295&r.total)){e.msg=\"incorrect length check\",r.mode=BAD;break}f=0,u=0}r.mode=DONE;case DONE:T=Z_STREAM_END;break e;case BAD:T=Z_DATA_ERROR;break e;case MEM:return Z_MEM_ERROR;case SYNC:default:return Z_STREAM_ERROR}return e.next_out=o,e.avail_out=l,e.next_in=i,e.avail_in=s,r.hold=f,r.bits=u,(r.wsize||d!==e.avail_out&&r.mode<BAD&&(r.mode<CHECK||t!==Z_FINISH))&&updatewindow(e,e.output,e.next_out,d-e.avail_out),c-=e.avail_in,d-=e.avail_out,e.total_in+=c,e.total_out+=d,r.total+=d,r.wrap&&d&&(e.adler=r.check=r.flags?crc32(r.check,a,d,e.next_out-d):adler32(r.check,a,d,e.next_out-d)),e.data_type=r.bits+(r.last?64:0)+(r.mode===TYPE?128:0)+(r.mode===LEN_||r.mode===COPY_?256:0),(0===c&&0===d||t===Z_FINISH)&&T===Z_OK&&(T=Z_BUF_ERROR),T}function inflateEnd(e){if(!e||!e.state)return Z_STREAM_ERROR;var t=e.state;return t.window&&(t.window=null),e.state=null,Z_OK}function inflateGetHeader(e,t){var r;return e&&e.state?0==(2&(r=e.state).wrap)?Z_STREAM_ERROR:(r.head=t,t.done=!1,Z_OK):Z_STREAM_ERROR}function inflateSetDictionary(e,t){var r,n=t.length;return e&&e.state?0!==(r=e.state).wrap&&r.mode!==DICT?Z_STREAM_ERROR:r.mode===DICT&&adler32(1,t,n,0)!==r.check?Z_DATA_ERROR:updatewindow(e,t,n,n)?(r.mode=MEM,Z_MEM_ERROR):(r.havedict=1,Z_OK):Z_STREAM_ERROR}inflate$2.inflateReset=inflateReset,inflate$2.inflateReset2=inflateReset2,inflate$2.inflateResetKeep=inflateResetKeep,inflate$2.inflateInit=inflateInit,inflate$2.inflateInit2=inflateInit2,inflate$2.inflate=inflate$1,inflate$2.inflateEnd=inflateEnd,inflate$2.inflateGetHeader=inflateGetHeader,inflate$2.inflateSetDictionary=inflateSetDictionary,inflate$2.inflateInfo=\"pako inflate (from Nodeca project)\";var strings$1={},utils$1=common,STR_APPLY_OK=!0,STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,[0])}catch(e){STR_APPLY_OK=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){STR_APPLY_UIA_OK=!1}for(var _utf8len=new utils$1.Buf8(256),q=0;q<256;q++)_utf8len[q]=q>=252?6:q>=248?5:q>=240?4:q>=224?3:q>=192?2:1;function buf2binstring(e,t){if(t<65534&&(e.subarray&&STR_APPLY_UIA_OK||!e.subarray&&STR_APPLY_OK))return String.fromCharCode.apply(null,utils$1.shrinkBuf(e,t));for(var r=\"\",n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r}_utf8len[254]=_utf8len[254]=1,strings$1.string2buf=function(e){var t,r,n,a,i,o=e.length,s=0;for(a=0;a<o;a++)55296==(64512&(r=e.charCodeAt(a)))&&a+1<o&&56320==(64512&(n=e.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(n-56320),a++),s+=r<128?1:r<2048?2:r<65536?3:4;for(t=new utils$1.Buf8(s),i=0,a=0;i<s;a++)55296==(64512&(r=e.charCodeAt(a)))&&a+1<o&&56320==(64512&(n=e.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(n-56320),a++),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|63&r):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|63&r):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|63&r);return t},strings$1.buf2binstring=function(e){return buf2binstring(e,e.length)},strings$1.binstring2buf=function(e){for(var t=new utils$1.Buf8(e.length),r=0,n=t.length;r<n;r++)t[r]=e.charCodeAt(r);return t},strings$1.buf2string=function(e,t){var r,n,a,i,o=t||e.length,s=new Array(2*o);for(n=0,r=0;r<o;)if((a=e[r++])<128)s[n++]=a;else if((i=_utf8len[a])>4)s[n++]=65533,r+=i-1;else{for(a&=2===i?31:3===i?15:7;i>1&&r<o;)a=a<<6|63&e[r++],i--;i>1?s[n++]=65533:a<65536?s[n++]=a:(a-=65536,s[n++]=55296|a>>10&1023,s[n++]=56320|1023&a)}return buf2binstring(s,n)},strings$1.utf8border=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;r>=0&&128==(192&e[r]);)r--;return r<0||0===r?t:r+_utf8len[e[r]]>t?r:t};var constants={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},messages={2:\"need dictionary\",1:\"stream end\",0:\"\",\"-1\":\"file error\",\"-2\":\"stream error\",\"-3\":\"data error\",\"-4\":\"insufficient memory\",\"-5\":\"buffer error\",\"-6\":\"incompatible version\"};function ZStream$1(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=\"\",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream$1;function GZheader$1(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name=\"\",this.comment=\"\",this.hcrc=0,this.done=!1}var gzheader=GZheader$1,zlib_inflate=inflate$2,utils=common,strings=strings$1,c=constants,msg=messages,ZStream=zstream,GZheader=gzheader,toString=Object.prototype.toString;function Inflate(e){if(!(this instanceof Inflate))return new Inflate(e);this.options=utils.assign({chunkSize:16384,windowBits:0,to:\"\"},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new ZStream,this.strm.avail_out=0;var r=zlib_inflate.inflateInit2(this.strm,t.windowBits);if(r!==c.Z_OK)throw new Error(msg[r]);if(this.header=new GZheader,zlib_inflate.inflateGetHeader(this.strm,this.header),t.dictionary&&(\"string\"==typeof t.dictionary?t.dictionary=strings.string2buf(t.dictionary):\"[object ArrayBuffer]\"===toString.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=zlib_inflate.inflateSetDictionary(this.strm,t.dictionary))!==c.Z_OK))throw new Error(msg[r])}function inflate(e,t){var r=new Inflate(t);if(r.push(e,!0),r.err)throw r.msg||msg[r.err];return r.result}Inflate.prototype.push=function(e,t){var r,n,a,i,o,s=this.strm,l=this.options.chunkSize,f=this.options.dictionary,u=!1;if(this.ended)return!1;n=t===~~t?t:!0===t?c.Z_FINISH:c.Z_NO_FLUSH,\"string\"==typeof e?s.input=strings.binstring2buf(e):\"[object ArrayBuffer]\"===toString.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new utils.Buf8(l),s.next_out=0,s.avail_out=l),(r=zlib_inflate.inflate(s,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&f&&(r=zlib_inflate.inflateSetDictionary(this.strm,f)),r===c.Z_BUF_ERROR&&!0===u&&(r=c.Z_OK,u=!1),r!==c.Z_STREAM_END&&r!==c.Z_OK)return this.onEnd(r),this.ended=!0,!1;s.next_out&&(0!==s.avail_out&&r!==c.Z_STREAM_END&&(0!==s.avail_in||n!==c.Z_FINISH&&n!==c.Z_SYNC_FLUSH)||(\"string\"===this.options.to?(a=strings.utf8border(s.output,s.next_out),i=s.next_out-a,o=strings.buf2string(s.output,a),s.next_out=i,s.avail_out=l-i,i&&utils.arraySet(s.output,s.output,a,i,0),this.onData(o)):this.onData(utils.shrinkBuf(s.output,s.next_out)))),0===s.avail_in&&0===s.avail_out&&(u=!0)}while((s.avail_in>0||0===s.avail_out)&&r!==c.Z_STREAM_END);return r===c.Z_STREAM_END&&(n=c.Z_FINISH),n===c.Z_FINISH?(r=zlib_inflate.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===c.Z_OK):n!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),s.avail_out=0,!0)},Inflate.prototype.onData=function(e){this.chunks.push(e)},Inflate.prototype.onEnd=function(e){e===c.Z_OK&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=utils.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var inflate_2=inflate,DeflateDecoder=function(e){_inherits(r,BaseDecoder);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r,[{key:\"decodeBlock\",value:function(e){return inflate_2(new Uint8Array(e)).buffer}}]),r}(),PackbitsDecoder=function(e){_inherits(r,BaseDecoder);var t=_createSuper(r);function r(){return _classCallCheck(this,r),t.apply(this,arguments)}return _createClass(r,[{key:\"decodeBlock\",value:function(e){for(var t=new DataView(e),r=[],n=0;n<e.byteLength;++n){var a=t.getInt8(n);if(a<0){var i=t.getUint8(n+1);a=-a;for(var o=0;o<=a;++o)r.push(i);n+=1}else{for(var s=0;s<=a;++s)r.push(t.getUint8(n+s+1));n+=a+1}}return new Uint8Array(r).buffer}}]),r}(),LercDecode={exports:{}},module;module=LercDecode,\n/* Copyright 2015-2021 Esri. Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 @preserve */\nfunction(){var e,t,r,n,a,i,o,s,l,f,u,c,d,h,m,p,g=(e={defaultNoDataValue:-34027999387901484e22,decode:function(i,o){var s=(o=o||{}).encodedMaskData||null===o.encodedMaskData,l=a(i,o.inputOffset||0,s),f=null!==o.noDataValue?o.noDataValue:e.defaultNoDataValue,u=t(l,o.pixelType||Float32Array,o.encodedMaskData,f,o.returnMask),c={width:l.width,height:l.height,pixelData:u.resultPixels,minValue:u.minValue,maxValue:l.pixels.maxValue,noDataValue:f};return u.resultMask&&(c.maskData=u.resultMask),o.returnEncodedMask&&l.mask&&(c.encodedMaskData=l.mask.bitset?l.mask.bitset:null),o.returnFileInfo&&(c.fileInfo=r(l),o.computeUsedBitDepths&&(c.fileInfo.bitDepths=n(l))),c}},t=function(e,t,r,n,a){var o,s,l,f=0,u=e.pixels.numBlocksX,c=e.pixels.numBlocksY,d=Math.floor(e.width/u),h=Math.floor(e.height/c),m=2*e.maxZError,p=Number.MAX_VALUE;r=r||(e.mask?e.mask.bitset:null),s=new t(e.width*e.height),a&&r&&(l=new Uint8Array(e.width*e.height));for(var g,y,b=new Float32Array(d*h),v=0;v<=c;v++){var w=v!==c?h:e.height%c;if(0!==w)for(var _=0;_<=u;_++){var k=_!==u?d:e.width%u;if(0!==k){var T,x,S,E,D=v*e.width*h+_*d,M=e.width-k,A=e.pixels.blocks[f];if(A.encoding<2?(0===A.encoding?T=A.rawData:(i(A.stuffedData,A.bitsPerPixel,A.numValidPixels,A.offset,m,b,e.pixels.maxValue),T=b),x=0):S=2===A.encoding?0:A.offset,r)for(y=0;y<w;y++){for(7&D&&(E=r[D>>3],E<<=7&D),g=0;g<k;g++)7&D||(E=r[D>>3]),128&E?(l&&(l[D]=1),p=p>(o=A.encoding<2?T[x++]:S)?o:p,s[D++]=o):(l&&(l[D]=0),s[D++]=n),E<<=1;D+=M}else if(A.encoding<2)for(y=0;y<w;y++){for(g=0;g<k;g++)p=p>(o=T[x++])?o:p,s[D++]=o;D+=M}else for(p=p>S?S:p,y=0;y<w;y++){for(g=0;g<k;g++)s[D++]=S;D+=M}if(1===A.encoding&&x!==A.numValidPixels)throw\"Block and Mask do not match\";f++}}}return{resultPixels:s,resultMask:l,minValue:p}},r=function(e){return{fileIdentifierString:e.fileIdentifierString,fileVersion:e.fileVersion,imageType:e.imageType,height:e.height,width:e.width,maxZError:e.maxZError,eofOffset:e.eofOffset,mask:e.mask?{numBlocksX:e.mask.numBlocksX,numBlocksY:e.mask.numBlocksY,numBytes:e.mask.numBytes,maxValue:e.mask.maxValue}:null,pixels:{numBlocksX:e.pixels.numBlocksX,numBlocksY:e.pixels.numBlocksY,numBytes:e.pixels.numBytes,maxValue:e.pixels.maxValue,noDataValue:e.noDataValue}}},n=function(e){for(var t=e.pixels.numBlocksX*e.pixels.numBlocksY,r={},n=0;n<t;n++){var a=e.pixels.blocks[n];0===a.encoding?r.float32=!0:1===a.encoding?r[a.bitsPerPixel]=!0:r[0]=!0}return Object.keys(r)},a=function(e,t,r){var n={},a=new Uint8Array(e,t,10);if(n.fileIdentifierString=String.fromCharCode.apply(null,a),\"CntZImage\"!==n.fileIdentifierString.trim())throw\"Unexpected file identifier string: \"+n.fileIdentifierString;t+=10;var i=new DataView(e,t,24);if(n.fileVersion=i.getInt32(0,!0),n.imageType=i.getInt32(4,!0),n.height=i.getUint32(8,!0),n.width=i.getUint32(12,!0),n.maxZError=i.getFloat64(16,!0),t+=24,!r)if(i=new DataView(e,t,16),n.mask={},n.mask.numBlocksY=i.getUint32(0,!0),n.mask.numBlocksX=i.getUint32(4,!0),n.mask.numBytes=i.getUint32(8,!0),n.mask.maxValue=i.getFloat32(12,!0),t+=16,n.mask.numBytes>0){var o=new Uint8Array(Math.ceil(n.width*n.height/8)),s=(i=new DataView(e,t,n.mask.numBytes)).getInt16(0,!0),l=2,f=0;do{if(s>0)for(;s--;)o[f++]=i.getUint8(l++);else{var u=i.getUint8(l++);for(s=-s;s--;)o[f++]=u}s=i.getInt16(l,!0),l+=2}while(l<n.mask.numBytes);if(-32768!==s||f<o.length)throw\"Unexpected end of mask RLE encoding\";n.mask.bitset=o,t+=n.mask.numBytes}else 0==(n.mask.numBytes|n.mask.numBlocksY|n.mask.maxValue)&&(n.mask.bitset=new Uint8Array(Math.ceil(n.width*n.height/8)));i=new DataView(e,t,16),n.pixels={},n.pixels.numBlocksY=i.getUint32(0,!0),n.pixels.numBlocksX=i.getUint32(4,!0),n.pixels.numBytes=i.getUint32(8,!0),n.pixels.maxValue=i.getFloat32(12,!0),t+=16;var c=n.pixels.numBlocksX,d=n.pixels.numBlocksY,h=c+(n.width%c>0?1:0),m=d+(n.height%d>0?1:0);n.pixels.blocks=new Array(h*m);for(var p=0,g=0;g<m;g++)for(var y=0;y<h;y++){var b=0,v=e.byteLength-t;i=new DataView(e,t,Math.min(10,v));var w={};n.pixels.blocks[p++]=w;var _=i.getUint8(0);if(b++,w.encoding=63&_,w.encoding>3)throw\"Invalid block encoding (\"+w.encoding+\")\";if(2!==w.encoding){if(0!==_&&2!==_){if(_>>=6,w.offsetType=_,2===_)w.offset=i.getInt8(1),b++;else if(1===_)w.offset=i.getInt16(1,!0),b+=2;else{if(0!==_)throw\"Invalid block offset type\";w.offset=i.getFloat32(1,!0),b+=4}if(1===w.encoding)if(_=i.getUint8(b),b++,w.bitsPerPixel=63&_,_>>=6,w.numValidPixelsType=_,2===_)w.numValidPixels=i.getUint8(b),b++;else if(1===_)w.numValidPixels=i.getUint16(b,!0),b+=2;else{if(0!==_)throw\"Invalid valid pixel count type\";w.numValidPixels=i.getUint32(b,!0),b+=4}}var k;if(t+=b,3!==w.encoding)if(0===w.encoding){var T=(n.pixels.numBytes-1)/4;if(T!==Math.floor(T))throw\"uncompressed block has invalid length\";k=new ArrayBuffer(4*T),new Uint8Array(k).set(new Uint8Array(e,t,4*T));var x=new Float32Array(k);w.rawData=x,t+=4*T}else if(1===w.encoding){var S=Math.ceil(w.numValidPixels*w.bitsPerPixel/8),E=Math.ceil(S/4);k=new ArrayBuffer(4*E),new Uint8Array(k).set(new Uint8Array(e,t,S)),w.stuffedData=new Uint32Array(k),t+=S}}else t++}return n.eofOffset=t,n},i=function(e,t,r,n,a,i,o){var s,l,f,u=(1<<t)-1,c=0,d=0,h=Math.ceil((o-n)/a),m=4*e.length-Math.ceil(t*r/8);for(e[e.length-1]<<=8*m,s=0;s<r;s++){if(0===d&&(f=e[c++],d=32),d>=t)l=f>>>d-t&u,d-=t;else{var p=t-d;l=(f&u)<<p&u,l+=(f=e[c++])>>>(d=32-p)}i[s]=l<h?n+l*a:o}return i},e),y=(o=function(e,t,r,n,a,i,o,s){var l,f,u,c,d,h=(1<<r)-1,m=0,p=0,g=4*e.length-Math.ceil(r*n/8);if(e[e.length-1]<<=8*g,a)for(l=0;l<n;l++)0===p&&(u=e[m++],p=32),p>=r?(f=u>>>p-r&h,p-=r):(f=(u&h)<<(c=r-p)&h,f+=(u=e[m++])>>>(p=32-c)),t[l]=a[f];else for(d=Math.ceil((s-i)/o),l=0;l<n;l++)0===p&&(u=e[m++],p=32),p>=r?(f=u>>>p-r&h,p-=r):(f=(u&h)<<(c=r-p)&h,f+=(u=e[m++])>>>(p=32-c)),t[l]=f<d?i+f*o:s},s=function(e,t,r,n,a,i){var o,s=(1<<t)-1,l=0,f=0,u=0,c=0,d=0,h=[],m=4*e.length-Math.ceil(t*r/8);e[e.length-1]<<=8*m;var p=Math.ceil((i-n)/a);for(f=0;f<r;f++)0===c&&(o=e[l++],c=32),c>=t?(d=o>>>c-t&s,c-=t):(d=(o&s)<<(u=t-c)&s,d+=(o=e[l++])>>>(c=32-u)),h[f]=d<p?n+d*a:i;return h.unshift(n),h},l=function(e,t,r,n,a,i,o,s){var l,f,u,c,d=(1<<r)-1,h=0,m=0,p=0;if(a)for(l=0;l<n;l++)0===m&&(u=e[h++],m=32,p=0),m>=r?(f=u>>>p&d,m-=r,p+=r):(f=u>>>p&d,m=32-(c=r-m),f|=((u=e[h++])&(1<<c)-1)<<r-c,p=c),t[l]=a[f];else{var g=Math.ceil((s-i)/o);for(l=0;l<n;l++)0===m&&(u=e[h++],m=32,p=0),m>=r?(f=u>>>p&d,m-=r,p+=r):(f=u>>>p&d,m=32-(c=r-m),f|=((u=e[h++])&(1<<c)-1)<<r-c,p=c),t[l]=f<g?i+f*o:s}return t},f=function(e,t,r,n,a,i){var o,s=(1<<t)-1,l=0,f=0,u=0,c=0,d=0,h=0,m=[],p=Math.ceil((i-n)/a);for(f=0;f<r;f++)0===c&&(o=e[l++],c=32,h=0),c>=t?(d=o>>>h&s,c-=t,h+=t):(d=o>>>h&s,c=32-(u=t-c),d|=((o=e[l++])&(1<<u)-1)<<t-u,h=u),m[f]=d<p?n+d*a:i;return m.unshift(n),m},u=function(e,t,r,n){var a,i,o,s,l=(1<<r)-1,f=0,u=0,c=4*e.length-Math.ceil(r*n/8);for(e[e.length-1]<<=8*c,a=0;a<n;a++)0===u&&(o=e[f++],u=32),u>=r?(i=o>>>u-r&l,u-=r):(i=(o&l)<<(s=r-u)&l,i+=(o=e[f++])>>>(u=32-s)),t[a]=i;return t},c=function(e,t,r,n){var a,i,o,s,l=(1<<r)-1,f=0,u=0,c=0;for(a=0;a<n;a++)0===u&&(o=e[f++],u=32,c=0),u>=r?(i=o>>>c&l,u-=r,c+=r):(i=o>>>c&l,u=32-(s=r-u),i|=((o=e[f++])&(1<<s)-1)<<r-s,c=s),t[a]=i;return t},d={HUFFMAN_LUT_BITS_MAX:12,computeChecksumFletcher32:function(e){for(var t=65535,r=65535,n=e.length,a=Math.floor(n/2),i=0;a;){var o=a>=359?359:a;a-=o;do{t+=e[i++]<<8,r+=t+=e[i++]}while(--o);t=(65535&t)+(t>>>16),r=(65535&r)+(r>>>16)}return 1&n&&(r+=t+=e[i]<<8),((r=(65535&r)+(r>>>16))<<16|(t=(65535&t)+(t>>>16)))>>>0},readHeaderInfo:function(e,t){var r=t.ptr,n=new Uint8Array(e,r,6),a={};if(a.fileIdentifierString=String.fromCharCode.apply(null,n),0!==a.fileIdentifierString.lastIndexOf(\"Lerc2\",0))throw\"Unexpected file identifier string (expect Lerc2 ): \"+a.fileIdentifierString;r+=6;var i,o=new DataView(e,r,8),s=o.getInt32(0,!0);if(a.fileVersion=s,r+=4,s>=3&&(a.checksum=o.getUint32(4,!0),r+=4),o=new DataView(e,r,12),a.height=o.getUint32(0,!0),a.width=o.getUint32(4,!0),r+=8,s>=4?(a.numDims=o.getUint32(8,!0),r+=4):a.numDims=1,o=new DataView(e,r,40),a.numValidPixel=o.getUint32(0,!0),a.microBlockSize=o.getInt32(4,!0),a.blobSize=o.getInt32(8,!0),a.imageType=o.getInt32(12,!0),a.maxZError=o.getFloat64(16,!0),a.zMin=o.getFloat64(24,!0),a.zMax=o.getFloat64(32,!0),r+=40,t.headerInfo=a,t.ptr=r,s>=3&&(i=s>=4?52:48,this.computeChecksumFletcher32(new Uint8Array(e,r-i,a.blobSize-14))!==a.checksum))throw\"Checksum failed.\";return!0},checkMinMaxRanges:function(e,t){var r=t.headerInfo,n=this.getDataTypeArray(r.imageType),a=r.numDims*this.getDataTypeSize(r.imageType),i=this.readSubArray(e,t.ptr,n,a),o=this.readSubArray(e,t.ptr+a,n,a);t.ptr+=2*a;var s,l=!0;for(s=0;s<r.numDims;s++)if(i[s]!==o[s]){l=!1;break}return r.minValues=i,r.maxValues=o,l},readSubArray:function(e,t,r,n){var a;if(r===Uint8Array)a=new Uint8Array(e,t,n);else{var i=new ArrayBuffer(n);new Uint8Array(i).set(new Uint8Array(e,t,n)),a=new r(i)}return a},readMask:function(e,t){var r,n,a=t.ptr,i=t.headerInfo,o=i.width*i.height,s=i.numValidPixel,l=new DataView(e,a,4),f={};if(f.numBytes=l.getUint32(0,!0),a+=4,(0===s||o===s)&&0!==f.numBytes)throw\"invalid mask\";if(0===s)r=new Uint8Array(Math.ceil(o/8)),f.bitset=r,n=new Uint8Array(o),t.pixels.resultMask=n,a+=f.numBytes;else if(f.numBytes>0){r=new Uint8Array(Math.ceil(o/8));var u=(l=new DataView(e,a,f.numBytes)).getInt16(0,!0),c=2,d=0,h=0;do{if(u>0)for(;u--;)r[d++]=l.getUint8(c++);else for(h=l.getUint8(c++),u=-u;u--;)r[d++]=h;u=l.getInt16(c,!0),c+=2}while(c<f.numBytes);if(-32768!==u||d<r.length)throw\"Unexpected end of mask RLE encoding\";n=new Uint8Array(o);var m=0,p=0;for(p=0;p<o;p++)7&p?(m=r[p>>3],m<<=7&p):m=r[p>>3],128&m&&(n[p]=1);t.pixels.resultMask=n,f.bitset=r,a+=f.numBytes}return t.ptr=a,t.mask=f,!0},readDataOneSweep:function(e,t,r,n){var a,i=t.ptr,o=t.headerInfo,s=o.numDims,l=o.width*o.height,f=o.imageType,u=o.numValidPixel*d.getDataTypeSize(f)*s,c=t.pixels.resultMask;if(r===Uint8Array)a=new Uint8Array(e,i,u);else{var h=new ArrayBuffer(u);new Uint8Array(h).set(new Uint8Array(e,i,u)),a=new r(h)}if(a.length===l*s)t.pixels.resultPixels=n?d.swapDimensionOrder(a,l,s,r,!0):a;else{t.pixels.resultPixels=new r(l*s);var m=0,p=0,g=0,y=0;if(s>1){if(n){for(p=0;p<l;p++)if(c[p])for(y=p,g=0;g<s;g++,y+=l)t.pixels.resultPixels[y]=a[m++]}else for(p=0;p<l;p++)if(c[p])for(y=p*s,g=0;g<s;g++)t.pixels.resultPixels[y+g]=a[m++]}else for(p=0;p<l;p++)c[p]&&(t.pixels.resultPixels[p]=a[m++])}return i+=u,t.ptr=i,!0},readHuffmanTree:function(e,t){var r=this.HUFFMAN_LUT_BITS_MAX,n=new DataView(e,t.ptr,16);if(t.ptr+=16,n.getInt32(0,!0)<2)throw\"unsupported Huffman version\";var a=n.getInt32(4,!0),i=n.getInt32(8,!0),o=n.getInt32(12,!0);if(i>=o)return!1;var s=new Uint32Array(o-i);d.decodeBits(e,t,s);var l,f,u,c,m=[];for(l=i;l<o;l++)m[f=l-(l<a?0:a)]={first:s[l-i],second:null};var p=e.byteLength-t.ptr,g=Math.ceil(p/4),y=new ArrayBuffer(4*g);new Uint8Array(y).set(new Uint8Array(e,t.ptr,p));var b,v=new Uint32Array(y),w=0,_=0;for(b=v[0],l=i;l<o;l++)(c=m[f=l-(l<a?0:a)].first)>0&&(m[f].second=b<<w>>>32-c,32-w>=c?32===(w+=c)&&(w=0,b=v[++_]):(w+=c-32,b=v[++_],m[f].second|=b>>>32-w));var k=0,T=0,x=new h;for(l=0;l<m.length;l++)void 0!==m[l]&&(k=Math.max(k,m[l].first));T=k>=r?r:k;var S,E,D,M,A,I=[];for(l=i;l<o;l++)if((c=m[f=l-(l<a?0:a)].first)>0)if(S=[c,f],c<=T)for(E=m[f].second<<T-c,D=1<<T-c,u=0;u<D;u++)I[E|u]=S;else for(E=m[f].second,A=x,M=c-1;M>=0;M--)E>>>M&1?(A.right||(A.right=new h),A=A.right):(A.left||(A.left=new h),A=A.left),0!==M||A.val||(A.val=S[1]);return{decodeLut:I,numBitsLUTQick:T,numBitsLUT:k,tree:x,stuffedData:v,srcPtr:_,bitPos:w}},readHuffman:function(e,t,r,n){var a,i,o,s,l,f,u,c,h,m=t.headerInfo.numDims,p=t.headerInfo.height,g=t.headerInfo.width,y=g*p,b=this.readHuffmanTree(e,t),v=b.decodeLut,w=b.tree,_=b.stuffedData,k=b.srcPtr,T=b.bitPos,x=b.numBitsLUTQick,S=b.numBitsLUT,E=0===t.headerInfo.imageType?128:0,D=t.pixels.resultMask,M=0;T>0&&(k++,T=0);var A,I=_[k],P=1===t.encodeMode,C=new r(y*m),O=C;if(m<2||P){for(A=0;A<m;A++)if(m>1&&(O=new r(C.buffer,y*A,y),M=0),t.headerInfo.numValidPixel===g*p)for(c=0,f=0;f<p;f++)for(u=0;u<g;u++,c++){if(i=0,l=s=I<<T>>>32-x,32-T<x&&(l=s|=_[k+1]>>>64-T-x),v[l])i=v[l][1],T+=v[l][0];else for(l=s=I<<T>>>32-S,32-T<S&&(l=s|=_[k+1]>>>64-T-S),a=w,h=0;h<S;h++)if(!(a=s>>>S-h-1&1?a.right:a.left).left&&!a.right){i=a.val,T=T+h+1;break}T>=32&&(T-=32,I=_[++k]),o=i-E,P?(o+=u>0?M:f>0?O[c-g]:M,o&=255,O[c]=o,M=o):O[c]=o}else for(c=0,f=0;f<p;f++)for(u=0;u<g;u++,c++)if(D[c]){if(i=0,l=s=I<<T>>>32-x,32-T<x&&(l=s|=_[k+1]>>>64-T-x),v[l])i=v[l][1],T+=v[l][0];else for(l=s=I<<T>>>32-S,32-T<S&&(l=s|=_[k+1]>>>64-T-S),a=w,h=0;h<S;h++)if(!(a=s>>>S-h-1&1?a.right:a.left).left&&!a.right){i=a.val,T=T+h+1;break}T>=32&&(T-=32,I=_[++k]),o=i-E,P?(u>0&&D[c-1]?o+=M:f>0&&D[c-g]?o+=O[c-g]:o+=M,o&=255,O[c]=o,M=o):O[c]=o}}else for(c=0,f=0;f<p;f++)for(u=0;u<g;u++)if(c=f*g+u,!D||D[c])for(A=0;A<m;A++,c+=y){if(i=0,l=s=I<<T>>>32-x,32-T<x&&(l=s|=_[k+1]>>>64-T-x),v[l])i=v[l][1],T+=v[l][0];else for(l=s=I<<T>>>32-S,32-T<S&&(l=s|=_[k+1]>>>64-T-S),a=w,h=0;h<S;h++)if(!(a=s>>>S-h-1&1?a.right:a.left).left&&!a.right){i=a.val,T=T+h+1;break}T>=32&&(T-=32,I=_[++k]),o=i-E,O[c]=o}t.ptr=t.ptr+4*(k+1)+(T>0?4:0),t.pixels.resultPixels=C,m>1&&!n&&(t.pixels.resultPixels=d.swapDimensionOrder(C,y,m,r))},decodeBits:function(e,t,r,n,a){var i=t.headerInfo,d=i.fileVersion,h=0,m=e.byteLength-t.ptr>=5?5:e.byteLength-t.ptr,p=new DataView(e,t.ptr,m),g=p.getUint8(0);h++;var y=g>>6,b=0===y?4:3-y,v=(32&g)>0,w=31&g,_=0;if(1===b)_=p.getUint8(h),h++;else if(2===b)_=p.getUint16(h,!0),h+=2;else{if(4!==b)throw\"Invalid valid pixel count type\";_=p.getUint32(h,!0),h+=4}var k,T,x,S,E,D,M,A,I,P=2*i.maxZError,C=i.numDims>1?i.maxValues[a]:i.zMax;if(v){for(t.counter.lut++,A=p.getUint8(h),h++,S=Math.ceil((A-1)*w/8),E=Math.ceil(S/4),T=new ArrayBuffer(4*E),x=new Uint8Array(T),t.ptr+=h,x.set(new Uint8Array(e,t.ptr,S)),M=new Uint32Array(T),t.ptr+=S,I=0;A-1>>>I;)I++;S=Math.ceil(_*I/8),E=Math.ceil(S/4),T=new ArrayBuffer(4*E),(x=new Uint8Array(T)).set(new Uint8Array(e,t.ptr,S)),k=new Uint32Array(T),t.ptr+=S,D=d>=3?f(M,w,A-1,n,P,C):s(M,w,A-1,n,P,C),d>=3?l(k,r,I,_,D):o(k,r,I,_,D)}else t.counter.bitstuffer++,I=w,t.ptr+=h,I>0&&(S=Math.ceil(_*I/8),E=Math.ceil(S/4),T=new ArrayBuffer(4*E),(x=new Uint8Array(T)).set(new Uint8Array(e,t.ptr,S)),k=new Uint32Array(T),t.ptr+=S,d>=3?null==n?c(k,r,I,_):l(k,r,I,_,!1,n,P,C):null==n?u(k,r,I,_):o(k,r,I,_,!1,n,P,C))},readTiles:function(e,t,r,n){var a=t.headerInfo,i=a.width,o=a.height,s=i*o,l=a.microBlockSize,f=a.imageType,u=d.getDataTypeSize(f),c=Math.ceil(i/l),h=Math.ceil(o/l);t.pixels.numBlocksY=h,t.pixels.numBlocksX=c,t.pixels.ptr=0;var m,p,g,y,b,v,w,_,k,T,x=0,S=0,E=0,D=0,M=0,A=0,I=0,P=0,C=0,O=0,R=0,L=0,B=0,U=0,N=0,z=new r(l*l),G=o%l||l,Z=i%l||l,$=a.numDims,V=t.pixels.resultMask,F=t.pixels.resultPixels,j=a.fileVersion>=5?14:15,K=a.zMax;for(E=0;E<h;E++)for(M=E!==h-1?l:G,D=0;D<c;D++)for(O=E*i*l+D*l,R=i-(A=D!==c-1?l:Z),_=0;_<$;_++){if($>1?(T=F,O=E*i*l+D*l,F=new r(t.pixels.resultPixels.buffer,s*_*u,s),K=a.maxValues[_]):T=null,I=e.byteLength-t.ptr,p={},N=0,P=(m=new DataView(e,t.ptr,Math.min(10,I))).getUint8(0),N++,k=a.fileVersion>=5?4&P:0,C=P>>6&255,(P>>2&j)!=(D*l>>3&j))throw\"integrity issue\";if(k&&0===_)throw\"integrity issue\";if((b=3&P)>3)throw t.ptr+=N,\"Invalid block encoding (\"+b+\")\";if(2!==b)if(0===b){if(k)throw\"integrity issue\";if(t.counter.uncompressed++,t.ptr+=N,L=(L=M*A*u)<(B=e.byteLength-t.ptr)?L:B,g=new ArrayBuffer(L%u==0?L:L+u-L%u),new Uint8Array(g).set(new Uint8Array(e,t.ptr,L)),y=new r(g),U=0,V)for(x=0;x<M;x++){for(S=0;S<A;S++)V[O]&&(F[O]=y[U++]),O++;O+=R}else for(x=0;x<M;x++){for(S=0;S<A;S++)F[O++]=y[U++];O+=R}t.ptr+=U*u}else if(v=d.getDataTypeUsed(k&&f<6?4:f,C),w=d.getOnePixel(p,N,v,m),N+=d.getDataTypeSize(v),3===b)if(t.ptr+=N,t.counter.constantoffset++,V)for(x=0;x<M;x++){for(S=0;S<A;S++)V[O]&&(F[O]=k?Math.min(K,T[O]+w):w),O++;O+=R}else for(x=0;x<M;x++){for(S=0;S<A;S++)F[O]=k?Math.min(K,T[O]+w):w,O++;O+=R}else if(t.ptr+=N,d.decodeBits(e,t,z,w,_),N=0,k)if(V)for(x=0;x<M;x++){for(S=0;S<A;S++)V[O]&&(F[O]=z[N++]+T[O]),O++;O+=R}else for(x=0;x<M;x++){for(S=0;S<A;S++)F[O]=z[N++]+T[O],O++;O+=R}else if(V)for(x=0;x<M;x++){for(S=0;S<A;S++)V[O]&&(F[O]=z[N++]),O++;O+=R}else for(x=0;x<M;x++){for(S=0;S<A;S++)F[O++]=z[N++];O+=R}else{if(k)if(V)for(x=0;x<M;x++)for(S=0;S<A;S++)V[O]&&(F[O]=T[O]),O++;else for(x=0;x<M;x++)for(S=0;S<A;S++)F[O]=T[O],O++;t.counter.constant++,t.ptr+=N}}$>1&&!n&&(t.pixels.resultPixels=d.swapDimensionOrder(t.pixels.resultPixels,s,$,r))},formatFileInfo:function(e){return{fileIdentifierString:e.headerInfo.fileIdentifierString,fileVersion:e.headerInfo.fileVersion,imageType:e.headerInfo.imageType,height:e.headerInfo.height,width:e.headerInfo.width,numValidPixel:e.headerInfo.numValidPixel,microBlockSize:e.headerInfo.microBlockSize,blobSize:e.headerInfo.blobSize,maxZError:e.headerInfo.maxZError,pixelType:d.getPixelType(e.headerInfo.imageType),eofOffset:e.eofOffset,mask:e.mask?{numBytes:e.mask.numBytes}:null,pixels:{numBlocksX:e.pixels.numBlocksX,numBlocksY:e.pixels.numBlocksY,maxValue:e.headerInfo.zMax,minValue:e.headerInfo.zMin,noDataValue:e.noDataValue}}},constructConstantSurface:function(e,t){var r=e.headerInfo.zMax,n=e.headerInfo.zMin,a=e.headerInfo.maxValues,i=e.headerInfo.numDims,o=e.headerInfo.height*e.headerInfo.width,s=0,l=0,f=0,u=e.pixels.resultMask,c=e.pixels.resultPixels;if(u)if(i>1){if(t)for(s=0;s<i;s++)for(f=s*o,r=a[s],l=0;l<o;l++)u[l]&&(c[f+l]=r);else for(l=0;l<o;l++)if(u[l])for(f=l*i,s=0;s<i;s++)c[f+i]=a[s]}else for(l=0;l<o;l++)u[l]&&(c[l]=r);else if(i>1&&n!==r)if(t)for(s=0;s<i;s++)for(f=s*o,r=a[s],l=0;l<o;l++)c[f+l]=r;else for(l=0;l<o;l++)for(f=l*i,s=0;s<i;s++)c[f+s]=a[s];else for(l=0;l<o*i;l++)c[l]=r},getDataTypeArray:function(e){var t;switch(e){case 0:t=Int8Array;break;case 1:t=Uint8Array;break;case 2:t=Int16Array;break;case 3:t=Uint16Array;break;case 4:t=Int32Array;break;case 5:t=Uint32Array;break;case 6:t=Float32Array;break;case 7:t=Float64Array;break;default:t=Float32Array}return t},getPixelType:function(e){var t;switch(e){case 0:t=\"S8\";break;case 1:t=\"U8\";break;case 2:t=\"S16\";break;case 3:t=\"U16\";break;case 4:t=\"S32\";break;case 5:t=\"U32\";break;case 6:t=\"F32\";break;case 7:t=\"F64\";break;default:t=\"F32\"}return t},isValidPixelValue:function(e,t){if(null==t)return!1;var r;switch(e){case 0:r=t>=-128&&t<=127;break;case 1:r=t>=0&&t<=255;break;case 2:r=t>=-32768&&t<=32767;break;case 3:r=t>=0&&t<=65536;break;case 4:r=t>=-2147483648&&t<=2147483647;break;case 5:r=t>=0&&t<=4294967296;break;case 6:r=t>=-34027999387901484e22&&t<=34027999387901484e22;break;case 7:r=t>=-17976931348623157e292&&t<=17976931348623157e292;break;default:r=!1}return r},getDataTypeSize:function(e){var t=0;switch(e){case 0:case 1:t=1;break;case 2:case 3:t=2;break;case 4:case 5:case 6:t=4;break;case 7:t=8;break;default:t=e}return t},getDataTypeUsed:function(e,t){var r=e;switch(e){case 2:case 4:r=e-t;break;case 3:case 5:r=e-2*t;break;case 6:r=0===t?e:1===t?2:1;break;case 7:r=0===t?e:e-2*t+1;break;default:r=e}return r},getOnePixel:function(e,t,r,n){var a=0;switch(r){case 0:a=n.getInt8(t);break;case 1:a=n.getUint8(t);break;case 2:a=n.getInt16(t,!0);break;case 3:a=n.getUint16(t,!0);break;case 4:a=n.getInt32(t,!0);break;case 5:a=n.getUInt32(t,!0);break;case 6:a=n.getFloat32(t,!0);break;case 7:a=n.getFloat64(t,!0);break;default:throw\"the decoder does not understand this pixel type\"}return a},swapDimensionOrder:function(e,t,r,n,a){var i=0,o=0,s=0,l=0,f=e;if(r>1)if(f=new n(t*r),a)for(i=0;i<t;i++)for(l=i,s=0;s<r;s++,l+=t)f[l]=e[o++];else for(i=0;i<t;i++)for(l=i,s=0;s<r;s++,l+=t)f[o++]=e[l];return f}},h=function(e,t,r){this.val=e,this.left=t,this.right=r},{decode:function(e,t){var r=(t=t||{}).noDataValue,n=0,a={};a.ptr=t.inputOffset||0,a.pixels={},d.readHeaderInfo(e,a);var i=a.headerInfo,o=i.fileVersion,s=d.getDataTypeArray(i.imageType);if(o>5)throw\"unsupported lerc version 2.\"+o;d.readMask(e,a),i.numValidPixel===i.width*i.height||a.pixels.resultMask||(a.pixels.resultMask=t.maskData);var l=i.width*i.height;a.pixels.resultPixels=new s(l*i.numDims),a.counter={onesweep:0,uncompressed:0,lut:0,bitstuffer:0,constant:0,constantoffset:0};var f,u=!t.returnPixelInterleavedDims;if(0!==i.numValidPixel)if(i.zMax===i.zMin)d.constructConstantSurface(a,u);else if(o>=4&&d.checkMinMaxRanges(e,a))d.constructConstantSurface(a,u);else{var c=new DataView(e,a.ptr,2),h=c.getUint8(0);if(a.ptr++,h)d.readDataOneSweep(e,a,s,u);else if(o>1&&i.imageType<=1&&Math.abs(i.maxZError-.5)<1e-5){var m=c.getUint8(1);if(a.ptr++,a.encodeMode=m,m>2||o<4&&m>1)throw\"Invalid Huffman flag \"+m;m?d.readHuffman(e,a,s,u):d.readTiles(e,a,s,u)}else d.readTiles(e,a,s,u)}a.eofOffset=a.ptr,t.inputOffset?(f=a.headerInfo.blobSize+t.inputOffset-a.ptr,Math.abs(f)>=1&&(a.eofOffset=t.inputOffset+a.headerInfo.blobSize)):(f=a.headerInfo.blobSize-a.ptr,Math.abs(f)>=1&&(a.eofOffset=a.headerInfo.blobSize));var p={width:i.width,height:i.height,pixelData:a.pixels.resultPixels,minValue:i.zMin,maxValue:i.zMax,validPixelCount:i.numValidPixel,dimCount:i.numDims,dimStats:{minValues:i.minValues,maxValues:i.maxValues},maskData:a.pixels.resultMask};if(a.pixels.resultMask&&d.isValidPixelValue(i.imageType,r)){var g=a.pixels.resultMask;for(n=0;n<l;n++)g[n]||(p.pixelData[n]=r);p.noDataValue=r}return a.noDataValue=r,t.returnFileInfo&&(p.fileInfo=d.formatFileInfo(a)),p},getBandCount:function(e){for(var t=0,r=0,n={ptr:0,pixels:{}};r<e.byteLength-58;)d.readHeaderInfo(e,n),r+=n.headerInfo.blobSize,t++,n.ptr=r;return t}}),b=(m=new ArrayBuffer(4),p=new Uint8Array(m),new Uint32Array(m)[0]=1,1===p[0]),v={decode:function(e,t){if(!b)throw\"Big endian system is not supported.\";var r,n,a=(t=t||{}).inputOffset||0,i=new Uint8Array(e,a,10),o=String.fromCharCode.apply(null,i);if(\"CntZImage\"===o.trim())r=g,n=1;else{if(\"Lerc2\"!==o.substring(0,5))throw\"Unexpected file identifier string: \"+o;r=y,n=2}for(var s,l,f,u,c,d,h=0,m=e.byteLength-10,p=[],v={width:0,height:0,pixels:[],pixelType:t.pixelType,mask:null,statistics:[]},w=0;a<m;){var _=r.decode(e,{inputOffset:a,encodedMaskData:s,maskData:f,returnMask:0===h,returnEncodedMask:0===h,returnFileInfo:!0,returnPixelInterleavedDims:t.returnPixelInterleavedDims,pixelType:t.pixelType||null,noDataValue:t.noDataValue||null});a=_.fileInfo.eofOffset,f=_.maskData,0===h&&(s=_.encodedMaskData,v.width=_.width,v.height=_.height,v.dimCount=_.dimCount||1,v.pixelType=_.pixelType||_.fileInfo.pixelType,v.mask=f),n>1&&(f&&p.push(f),_.fileInfo.mask&&_.fileInfo.mask.numBytes>0&&w++),h++,v.pixels.push(_.pixelData),v.statistics.push({minValue:_.minValue,maxValue:_.maxValue,noDataValue:_.noDataValue,dimStats:_.dimStats})}if(n>1&&w>1){for(d=v.width*v.height,v.bandMasks=p,(f=new Uint8Array(d)).set(p[0]),u=1;u<p.length;u++)for(l=p[u],c=0;c<d;c++)f[c]=f[c]&l[c];v.maskData=f}return v}};module.exports?module.exports=v:this.Lerc=v}();var Lerc=LercDecode.exports,fieldTagNames={315:\"Artist\",258:\"BitsPerSample\",265:\"CellLength\",264:\"CellWidth\",320:\"ColorMap\",259:\"Compression\",33432:\"Copyright\",306:\"DateTime\",338:\"ExtraSamples\",266:\"FillOrder\",289:\"FreeByteCounts\",288:\"FreeOffsets\",291:\"GrayResponseCurve\",290:\"GrayResponseUnit\",316:\"HostComputer\",270:\"ImageDescription\",257:\"ImageLength\",256:\"ImageWidth\",271:\"Make\",281:\"MaxSampleValue\",280:\"MinSampleValue\",272:\"Model\",254:\"NewSubfileType\",274:\"Orientation\",262:\"PhotometricInterpretation\",284:\"PlanarConfiguration\",296:\"ResolutionUnit\",278:\"RowsPerStrip\",277:\"SamplesPerPixel\",305:\"Software\",279:\"StripByteCounts\",273:\"StripOffsets\",255:\"SubfileType\",263:\"Threshholding\",282:\"XResolution\",283:\"YResolution\",326:\"BadFaxLines\",327:\"CleanFaxData\",343:\"ClipPath\",328:\"ConsecutiveBadFaxLines\",433:\"Decode\",434:\"DefaultImageColor\",269:\"DocumentName\",336:\"DotRange\",321:\"HalftoneHints\",346:\"Indexed\",347:\"JPEGTables\",285:\"PageName\",297:\"PageNumber\",317:\"Predictor\",319:\"PrimaryChromaticities\",532:\"ReferenceBlackWhite\",339:\"SampleFormat\",340:\"SMinSampleValue\",341:\"SMaxSampleValue\",559:\"StripRowCounts\",330:\"SubIFDs\",292:\"T4Options\",293:\"T6Options\",325:\"TileByteCounts\",323:\"TileLength\",324:\"TileOffsets\",322:\"TileWidth\",301:\"TransferFunction\",318:\"WhitePoint\",344:\"XClipPathUnits\",286:\"XPosition\",529:\"YCbCrCoefficients\",531:\"YCbCrPositioning\",530:\"YCbCrSubSampling\",345:\"YClipPathUnits\",287:\"YPosition\",37378:\"ApertureValue\",40961:\"ColorSpace\",36868:\"DateTimeDigitized\",36867:\"DateTimeOriginal\",34665:\"Exif IFD\",36864:\"ExifVersion\",33434:\"ExposureTime\",41728:\"FileSource\",37385:\"Flash\",40960:\"FlashpixVersion\",33437:\"FNumber\",42016:\"ImageUniqueID\",37384:\"LightSource\",37500:\"MakerNote\",37377:\"ShutterSpeedValue\",37510:\"UserComment\",33723:\"IPTC\",34675:\"ICC Profile\",700:\"XMP\",42112:\"GDAL_METADATA\",42113:\"GDAL_NODATA\",34377:\"Photoshop\",33550:\"ModelPixelScale\",33922:\"ModelTiepoint\",34264:\"ModelTransformation\",34735:\"GeoKeyDirectory\",34736:\"GeoDoubleParams\",34737:\"GeoAsciiParams\",50674:\"LercParameters\"},fieldTags={};for(var key in fieldTagNames)fieldTagNames.hasOwnProperty(key)&&(fieldTags[fieldTagNames[key]]=parseInt(key,10));fieldTags.BitsPerSample,fieldTags.ExtraSamples,fieldTags.SampleFormat,fieldTags.StripByteCounts,fieldTags.StripOffsets,fieldTags.StripRowCounts,fieldTags.TileByteCounts,fieldTags.TileOffsets,fieldTags.SubIFDs;var fieldTypeNames={1:\"BYTE\",2:\"ASCII\",3:\"SHORT\",4:\"LONG\",5:\"RATIONAL\",6:\"SBYTE\",7:\"UNDEFINED\",8:\"SSHORT\",9:\"SLONG\",10:\"SRATIONAL\",11:\"FLOAT\",12:\"DOUBLE\",13:\"IFD\",16:\"LONG8\",17:\"SLONG8\",18:\"IFD8\"},fieldTypes={};for(var _key in fieldTypeNames)fieldTypeNames.hasOwnProperty(_key)&&(fieldTypes[fieldTypeNames[_key]]=parseInt(_key,10));var LercParameters={Version:0,AddCompression:1},LercAddCompression={None:0,Deflate:1},geoKeyNames={1024:\"GTModelTypeGeoKey\",1025:\"GTRasterTypeGeoKey\",1026:\"GTCitationGeoKey\",2048:\"GeographicTypeGeoKey\",2049:\"GeogCitationGeoKey\",2050:\"GeogGeodeticDatumGeoKey\",2051:\"GeogPrimeMeridianGeoKey\",2052:\"GeogLinearUnitsGeoKey\",2053:\"GeogLinearUnitSizeGeoKey\",2054:\"GeogAngularUnitsGeoKey\",2055:\"GeogAngularUnitSizeGeoKey\",2056:\"GeogEllipsoidGeoKey\",2057:\"GeogSemiMajorAxisGeoKey\",2058:\"GeogSemiMinorAxisGeoKey\",2059:\"GeogInvFlatteningGeoKey\",2060:\"GeogAzimuthUnitsGeoKey\",2061:\"GeogPrimeMeridianLongGeoKey\",2062:\"GeogTOWGS84GeoKey\",3072:\"ProjectedCSTypeGeoKey\",3073:\"PCSCitationGeoKey\",3074:\"ProjectionGeoKey\",3075:\"ProjCoordTransGeoKey\",3076:\"ProjLinearUnitsGeoKey\",3077:\"ProjLinearUnitSizeGeoKey\",3078:\"ProjStdParallel1GeoKey\",3079:\"ProjStdParallel2GeoKey\",3080:\"ProjNatOriginLongGeoKey\",3081:\"ProjNatOriginLatGeoKey\",3082:\"ProjFalseEastingGeoKey\",3083:\"ProjFalseNorthingGeoKey\",3084:\"ProjFalseOriginLongGeoKey\",3085:\"ProjFalseOriginLatGeoKey\",3086:\"ProjFalseOriginEastingGeoKey\",3087:\"ProjFalseOriginNorthingGeoKey\",3088:\"ProjCenterLongGeoKey\",3089:\"ProjCenterLatGeoKey\",3090:\"ProjCenterEastingGeoKey\",3091:\"ProjCenterNorthingGeoKey\",3092:\"ProjScaleAtNatOriginGeoKey\",3093:\"ProjScaleAtCenterGeoKey\",3094:\"ProjAzimuthAngleGeoKey\",3095:\"ProjStraightVertPoleLongGeoKey\",3096:\"ProjRectifiedGridAngleGeoKey\",4096:\"VerticalCSTypeGeoKey\",4097:\"VerticalCitationGeoKey\",4098:\"VerticalDatumGeoKey\",4099:\"VerticalUnitsGeoKey\"},geoKeys={};for(var _key2 in geoKeyNames)geoKeyNames.hasOwnProperty(_key2)&&(geoKeys[geoKeyNames[_key2]]=parseInt(_key2,10));var LercDecoder=function(e){_inherits(r,BaseDecoder);var t=_createSuper(r);function r(e){var n;return _classCallCheck(this,r),(n=t.call(this)).planarConfiguration=void 0!==e.PlanarConfiguration?e.PlanarConfiguration:1,n.samplesPerPixel=void 0!==e.SamplesPerPixel?e.SamplesPerPixel:1,n.addCompression=e.LercParameters[LercParameters.AddCompression],n}return _createClass(r,[{key:\"decodeBlock\",value:function(e){switch(this.addCompression){case LercAddCompression.None:break;case LercAddCompression.Deflate:e=inflate_2(new Uint8Array(e)).buffer;break;default:throw new Error(\"Unsupported LERC additional compression method identifier: \".concat(this.addCompression))}return Lerc.decode(e,{returnPixelInterleavedDims:1===this.planarConfiguration}).pixels[0].buffer}}]),r}();function getDecoder(e){switch(e.Compression){case void 0:case 1:return new RawDecoder;case 5:return new LZWDecoder;case 6:throw new Error(\"old style JPEG compression is not supported.\");case 7:return new JpegDecoder(e);case 8:case 32946:return new DeflateDecoder;case 32773:return new PackbitsDecoder;case 34887:return new LercDecoder(e);default:throw new Error(\"Unknown compression method identifier: \".concat(e.Compression))}}function decode(e,t){return _decode.apply(this,arguments)}function _decode(){return(_decode=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=getDecoder(t),e.next=3,n.decode(t,r);case 3:return a=e.sent,e.abrupt(\"return\",Transfer(a));case 5:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}expose(decode);";
        const blob = new Blob([source], {type: 'application/javascript'});
        const url = URL.createObjectURL(blob);
        export function create() {
          return new Worker(url);
        }
      
